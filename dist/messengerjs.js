/*!
 *  
 *  Messenger.js 
 *  v0.9.1
 *  The MIT License (MIT)
 *  Copyright (c) 2013-2018 ZhangLei (zhanglei923@gmail.com)
 *  https://github.com/zhanglei923/messenger.js
 * 
 */!function(n){var c={};function C(g){if(c[g])return c[g].exports;var I=c[g]={i:g,l:!1,exports:{}};return n[g].call(I.exports,I,I.exports,C),I.l=!0,I.exports}C.m=n,C.c=c,C.d=function(g,I,n){C.o(g,I)||Object.defineProperty(g,I,{enumerable:!0,get:n})},C.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},C.t=function(I,g){if(1&g&&(I=C(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var n=Object.create(null);if(C.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var c in I)C.d(n,c,function(g){return I[g]}.bind(null,c));return n},C.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return C.d(I,"a",I),I},C.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},C.p="",C(C.s=0)}({"./node_modules/blueimp-md5/js/md5.js":
/*!********************************************!*\
  !*** ./node_modules/blueimp-md5/js/md5.js ***!
  \********************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n;(function ($) {\n  'use strict'\n\n  /*\n  * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n  * to work around bugs in some JS interpreters.\n  */\n  function safeAdd (x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /*\n  * Bitwise rotate a 32-bit number to the left.\n  */\n  function bitRotateLeft (num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /*\n  * These functions implement the four basic operations the algorithm uses.\n  */\n  function md5cmn (q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  function md5ff (a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  function md5gg (a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  function md5hh (a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  function md5ii (a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /*\n  * Calculate the MD5 of an array of little-endian words, and a bit length.\n  */\n  function binlMD5 (x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << (len % 32)\n    x[((len + 64) >>> 9 << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /*\n  * Convert an array of little-endian words to a string\n  */\n  function binl2rstr (input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xff)\n    }\n    return output\n  }\n\n  /*\n  * Convert a raw string to an array of little-endian words\n  * Characters >255 have their high-byte silently ignored.\n  */\n  function rstr2binl (input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << (i % 32)\n    }\n    return output\n  }\n\n  /*\n  * Calculate the MD5 of a raw string\n  */\n  function rstrMD5 (s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /*\n  * Calculate the HMAC-MD5, of a key and some data (raw strings)\n  */\n  function rstrHMACMD5 (key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /*\n  * Convert a raw string to a hex string\n  */\n  function rstr2hex (input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /*\n  * Encode a string as utf-8\n  */\n  function str2rstrUTF8 (input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /*\n  * Take string arguments and return either raw or hex encoded strings\n  */\n  function rawMD5 (s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  function hexMD5 (s) {\n    return rstr2hex(rawMD5(s))\n  }\n  function rawHMACMD5 (k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  function hexHMACMD5 (k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  function md5 (string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n      return md5\n    }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n  } else {}\n})(this)\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmx1ZWltcC1tZDUvanMvbWQ1LmpzPzhkODEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFtQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrQkFBa0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLElBQTBDO0FBQ2hELElBQUksbUNBQU87QUFDWDtBQUNBLEtBQUs7QUFBQSxvR0FBQztBQUNOLEdBQUcsTUFBTSxFQUlOO0FBQ0gsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9ibHVlaW1wLW1kNS9qcy9tZDUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogSmF2YVNjcmlwdCBNRDVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtTUQ1XG4gKlxuICogQ29weXJpZ2h0IDIwMTEsIFNlYmFzdGlhbiBUc2NoYW5cbiAqIGh0dHBzOi8vYmx1ZWltcC5uZXRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqIEJhc2VkIG9uXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFJTQSBEYXRhIFNlY3VyaXR5LCBJbmMuIE1ENSBNZXNzYWdlXG4gKiBEaWdlc3QgQWxnb3JpdGhtLCBhcyBkZWZpbmVkIGluIFJGQyAxMzIxLlxuICogVmVyc2lvbiAyLjIgQ29weXJpZ2h0IChDKSBQYXVsIEpvaG5zdG9uIDE5OTkgLSAyMDA5XG4gKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2VcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uXG4gKi9cblxuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG47KGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0J1xuXG4gIC8qXG4gICogQWRkIGludGVnZXJzLCB3cmFwcGluZyBhdCAyXjMyLiBUaGlzIHVzZXMgMTYtYml0IG9wZXJhdGlvbnMgaW50ZXJuYWxseVxuICAqIHRvIHdvcmsgYXJvdW5kIGJ1Z3MgaW4gc29tZSBKUyBpbnRlcnByZXRlcnMuXG4gICovXG4gIGZ1bmN0aW9uIHNhZmVBZGQgKHgsIHkpIHtcbiAgICB2YXIgbHN3ID0gKHggJiAweGZmZmYpICsgKHkgJiAweGZmZmYpXG4gICAgdmFyIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpXG4gICAgcmV0dXJuIChtc3cgPDwgMTYpIHwgKGxzdyAmIDB4ZmZmZilcbiAgfVxuXG4gIC8qXG4gICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxuICAqL1xuICBmdW5jdGlvbiBiaXRSb3RhdGVMZWZ0IChudW0sIGNudCkge1xuICAgIHJldHVybiAobnVtIDw8IGNudCkgfCAobnVtID4+PiAoMzIgLSBjbnQpKVxuICB9XG5cbiAgLypcbiAgKiBUaGVzZSBmdW5jdGlvbnMgaW1wbGVtZW50IHRoZSBmb3VyIGJhc2ljIG9wZXJhdGlvbnMgdGhlIGFsZ29yaXRobSB1c2VzLlxuICAqL1xuICBmdW5jdGlvbiBtZDVjbW4gKHEsIGEsIGIsIHgsIHMsIHQpIHtcbiAgICByZXR1cm4gc2FmZUFkZChiaXRSb3RhdGVMZWZ0KHNhZmVBZGQoc2FmZUFkZChhLCBxKSwgc2FmZUFkZCh4LCB0KSksIHMpLCBiKVxuICB9XG4gIGZ1bmN0aW9uIG1kNWZmIChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gICAgcmV0dXJuIG1kNWNtbigoYiAmIGMpIHwgKH5iICYgZCksIGEsIGIsIHgsIHMsIHQpXG4gIH1cbiAgZnVuY3Rpb24gbWQ1Z2cgKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgICByZXR1cm4gbWQ1Y21uKChiICYgZCkgfCAoYyAmIH5kKSwgYSwgYiwgeCwgcywgdClcbiAgfVxuICBmdW5jdGlvbiBtZDVoaCAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICAgIHJldHVybiBtZDVjbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KVxuICB9XG4gIGZ1bmN0aW9uIG1kNWlpIChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gICAgcmV0dXJuIG1kNWNtbihjIF4gKGIgfCB+ZCksIGEsIGIsIHgsIHMsIHQpXG4gIH1cblxuICAvKlxuICAqIENhbGN1bGF0ZSB0aGUgTUQ1IG9mIGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMsIGFuZCBhIGJpdCBsZW5ndGguXG4gICovXG4gIGZ1bmN0aW9uIGJpbmxNRDUgKHgsIGxlbikge1xuICAgIC8qIGFwcGVuZCBwYWRkaW5nICovXG4gICAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCAobGVuICUgMzIpXG4gICAgeFsoKGxlbiArIDY0KSA+Pj4gOSA8PCA0KSArIDE0XSA9IGxlblxuXG4gICAgdmFyIGlcbiAgICB2YXIgb2xkYVxuICAgIHZhciBvbGRiXG4gICAgdmFyIG9sZGNcbiAgICB2YXIgb2xkZFxuICAgIHZhciBhID0gMTczMjU4NDE5M1xuICAgIHZhciBiID0gLTI3MTczMzg3OVxuICAgIHZhciBjID0gLTE3MzI1ODQxOTRcbiAgICB2YXIgZCA9IDI3MTczMzg3OFxuXG4gICAgZm9yIChpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDE2KSB7XG4gICAgICBvbGRhID0gYVxuICAgICAgb2xkYiA9IGJcbiAgICAgIG9sZGMgPSBjXG4gICAgICBvbGRkID0gZFxuXG4gICAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpXSwgNywgLTY4MDg3NjkzNilcbiAgICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxXSwgMTIsIC0zODk1NjQ1ODYpXG4gICAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMl0sIDE3LCA2MDYxMDU4MTkpXG4gICAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgM10sIDIyLCAtMTA0NDUyNTMzMClcbiAgICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNywgLTE3NjQxODg5NylcbiAgICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA1XSwgMTIsIDEyMDAwODA0MjYpXG4gICAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSlcbiAgICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyA3XSwgMjIsIC00NTcwNTk4MylcbiAgICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA4XSwgNywgMTc3MDAzNTQxNilcbiAgICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA5XSwgMTIsIC0xOTU4NDE0NDE3KVxuICAgICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTcsIC00MjA2MylcbiAgICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAxMV0sIDIyLCAtMTk5MDQwNDE2MilcbiAgICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDcsIDE4MDQ2MDM2ODIpXG4gICAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgMTNdLCAxMiwgLTQwMzQxMTAxKVxuICAgICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTcsIC0xNTAyMDAyMjkwKVxuICAgICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDE1XSwgMjIsIDEyMzY1MzUzMjkpXG5cbiAgICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNSwgLTE2NTc5NjUxMClcbiAgICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyA2XSwgOSwgLTEwNjk1MDE2MzIpXG4gICAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNCwgNjQzNzE3NzEzKVxuICAgICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaV0sIDIwLCAtMzczODk3MzAyKVxuICAgICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA1LCAtNzAxNTU4NjkxKVxuICAgICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDEwXSwgOSwgMzgwMTYwODMpXG4gICAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSlcbiAgICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA0XSwgMjAsIC00MDU1Mzc4NDgpXG4gICAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgOV0sIDUsIDU2ODQ0NjQzOClcbiAgICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxNF0sIDksIC0xMDE5ODAzNjkwKVxuICAgICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDNdLCAxNCwgLTE4NzM2Mzk2MSlcbiAgICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA4XSwgMjAsIDExNjM1MzE1MDEpXG4gICAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMTNdLCA1LCAtMTQ0NDY4MTQ2NylcbiAgICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAyXSwgOSwgLTUxNDAzNzg0KVxuICAgICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDddLCAxNCwgMTczNTMyODQ3MylcbiAgICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyAxMl0sIDIwLCAtMTkyNjYwNzczNClcblxuICAgICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA0LCAtMzc4NTU4KVxuICAgICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDhdLCAxMSwgLTIwMjI1NzQ0NjMpXG4gICAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNiwgMTgzOTAzMDU2MilcbiAgICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxNF0sIDIzLCAtMzUzMDk1NTYpXG4gICAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMV0sIDQsIC0xNTMwOTkyMDYwKVxuICAgICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDRdLCAxMSwgMTI3Mjg5MzM1MylcbiAgICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTYsIC0xNTU0OTc2MzIpXG4gICAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMTBdLCAyMywgLTEwOTQ3MzA2NDApXG4gICAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMTNdLCA0LCA2ODEyNzkxNzQpXG4gICAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpXSwgMTEsIC0zNTg1MzcyMjIpXG4gICAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgM10sIDE2LCAtNzIyNTIxOTc5KVxuICAgICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDZdLCAyMywgNzYwMjkxODkpXG4gICAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgOV0sIDQsIC02NDAzNjQ0ODcpXG4gICAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgMTJdLCAxMSwgLTQyMTgxNTgzNSlcbiAgICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAxNV0sIDE2LCA1MzA3NDI1MjApXG4gICAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMl0sIDIzLCAtOTk1MzM4NjUxKVxuXG4gICAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpXSwgNiwgLTE5ODYzMDg0NClcbiAgICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyA3XSwgMTAsIDExMjY4OTE0MTUpXG4gICAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTRdLCAxNSwgLTE0MTYzNTQ5MDUpXG4gICAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgNV0sIDIxLCAtNTc0MzQwNTUpXG4gICAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA2LCAxNzAwNDg1NTcxKVxuICAgICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDNdLCAxMCwgLTE4OTQ5ODY2MDYpXG4gICAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNSwgLTEwNTE1MjMpXG4gICAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMV0sIDIxLCAtMjA1NDkyMjc5OSlcbiAgICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyA4XSwgNiwgMTg3MzMxMzM1OSlcbiAgICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxNV0sIDEwLCAtMzA2MTE3NDQpXG4gICAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE1LCAtMTU2MDE5ODM4MClcbiAgICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxM10sIDIxLCAxMzA5MTUxNjQ5KVxuICAgICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA2LCAtMTQ1NTIzMDcwKVxuICAgICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDExXSwgMTAsIC0xMTIwMjEwMzc5KVxuICAgICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNSwgNzE4Nzg3MjU5KVxuICAgICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDldLCAyMSwgLTM0MzQ4NTU1MSlcblxuICAgICAgYSA9IHNhZmVBZGQoYSwgb2xkYSlcbiAgICAgIGIgPSBzYWZlQWRkKGIsIG9sZGIpXG4gICAgICBjID0gc2FmZUFkZChjLCBvbGRjKVxuICAgICAgZCA9IHNhZmVBZGQoZCwgb2xkZClcbiAgICB9XG4gICAgcmV0dXJuIFthLCBiLCBjLCBkXVxuICB9XG5cbiAgLypcbiAgKiBDb252ZXJ0IGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMgdG8gYSBzdHJpbmdcbiAgKi9cbiAgZnVuY3Rpb24gYmlubDJyc3RyIChpbnB1dCkge1xuICAgIHZhciBpXG4gICAgdmFyIG91dHB1dCA9ICcnXG4gICAgdmFyIGxlbmd0aDMyID0gaW5wdXQubGVuZ3RoICogMzJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoMzI7IGkgKz0gOCkge1xuICAgICAgb3V0cHV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGlucHV0W2kgPj4gNV0gPj4+IChpICUgMzIpKSAmIDB4ZmYpXG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRcbiAgfVxuXG4gIC8qXG4gICogQ29udmVydCBhIHJhdyBzdHJpbmcgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xuICAqIENoYXJhY3RlcnMgPjI1NSBoYXZlIHRoZWlyIGhpZ2gtYnl0ZSBzaWxlbnRseSBpZ25vcmVkLlxuICAqL1xuICBmdW5jdGlvbiByc3RyMmJpbmwgKGlucHV0KSB7XG4gICAgdmFyIGlcbiAgICB2YXIgb3V0cHV0ID0gW11cbiAgICBvdXRwdXRbKGlucHV0Lmxlbmd0aCA+PiAyKSAtIDFdID0gdW5kZWZpbmVkXG4gICAgZm9yIChpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgb3V0cHV0W2ldID0gMFxuICAgIH1cbiAgICB2YXIgbGVuZ3RoOCA9IGlucHV0Lmxlbmd0aCAqIDhcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoODsgaSArPSA4KSB7XG4gICAgICBvdXRwdXRbaSA+PiA1XSB8PSAoaW5wdXQuY2hhckNvZGVBdChpIC8gOCkgJiAweGZmKSA8PCAoaSAlIDMyKVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0XG4gIH1cblxuICAvKlxuICAqIENhbGN1bGF0ZSB0aGUgTUQ1IG9mIGEgcmF3IHN0cmluZ1xuICAqL1xuICBmdW5jdGlvbiByc3RyTUQ1IChzKSB7XG4gICAgcmV0dXJuIGJpbmwycnN0cihiaW5sTUQ1KHJzdHIyYmlubChzKSwgcy5sZW5ndGggKiA4KSlcbiAgfVxuXG4gIC8qXG4gICogQ2FsY3VsYXRlIHRoZSBITUFDLU1ENSwgb2YgYSBrZXkgYW5kIHNvbWUgZGF0YSAocmF3IHN0cmluZ3MpXG4gICovXG4gIGZ1bmN0aW9uIHJzdHJITUFDTUQ1IChrZXksIGRhdGEpIHtcbiAgICB2YXIgaVxuICAgIHZhciBia2V5ID0gcnN0cjJiaW5sKGtleSlcbiAgICB2YXIgaXBhZCA9IFtdXG4gICAgdmFyIG9wYWQgPSBbXVxuICAgIHZhciBoYXNoXG4gICAgaXBhZFsxNV0gPSBvcGFkWzE1XSA9IHVuZGVmaW5lZFxuICAgIGlmIChia2V5Lmxlbmd0aCA+IDE2KSB7XG4gICAgICBia2V5ID0gYmlubE1ENShia2V5LCBrZXkubGVuZ3RoICogOClcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IDE2OyBpICs9IDEpIHtcbiAgICAgIGlwYWRbaV0gPSBia2V5W2ldIF4gMHgzNjM2MzYzNlxuICAgICAgb3BhZFtpXSA9IGJrZXlbaV0gXiAweDVjNWM1YzVjXG4gICAgfVxuICAgIGhhc2ggPSBiaW5sTUQ1KGlwYWQuY29uY2F0KHJzdHIyYmlubChkYXRhKSksIDUxMiArIGRhdGEubGVuZ3RoICogOClcbiAgICByZXR1cm4gYmlubDJyc3RyKGJpbmxNRDUob3BhZC5jb25jYXQoaGFzaCksIDUxMiArIDEyOCkpXG4gIH1cblxuICAvKlxuICAqIENvbnZlcnQgYSByYXcgc3RyaW5nIHRvIGEgaGV4IHN0cmluZ1xuICAqL1xuICBmdW5jdGlvbiByc3RyMmhleCAoaW5wdXQpIHtcbiAgICB2YXIgaGV4VGFiID0gJzAxMjM0NTY3ODlhYmNkZWYnXG4gICAgdmFyIG91dHB1dCA9ICcnXG4gICAgdmFyIHhcbiAgICB2YXIgaVxuICAgIGZvciAoaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgeCA9IGlucHV0LmNoYXJDb2RlQXQoaSlcbiAgICAgIG91dHB1dCArPSBoZXhUYWIuY2hhckF0KCh4ID4+PiA0KSAmIDB4MGYpICsgaGV4VGFiLmNoYXJBdCh4ICYgMHgwZilcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dFxuICB9XG5cbiAgLypcbiAgKiBFbmNvZGUgYSBzdHJpbmcgYXMgdXRmLThcbiAgKi9cbiAgZnVuY3Rpb24gc3RyMnJzdHJVVEY4IChpbnB1dCkge1xuICAgIHJldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoaW5wdXQpKVxuICB9XG5cbiAgLypcbiAgKiBUYWtlIHN0cmluZyBhcmd1bWVudHMgYW5kIHJldHVybiBlaXRoZXIgcmF3IG9yIGhleCBlbmNvZGVkIHN0cmluZ3NcbiAgKi9cbiAgZnVuY3Rpb24gcmF3TUQ1IChzKSB7XG4gICAgcmV0dXJuIHJzdHJNRDUoc3RyMnJzdHJVVEY4KHMpKVxuICB9XG4gIGZ1bmN0aW9uIGhleE1ENSAocykge1xuICAgIHJldHVybiByc3RyMmhleChyYXdNRDUocykpXG4gIH1cbiAgZnVuY3Rpb24gcmF3SE1BQ01ENSAoaywgZCkge1xuICAgIHJldHVybiByc3RySE1BQ01ENShzdHIycnN0clVURjgoayksIHN0cjJyc3RyVVRGOChkKSlcbiAgfVxuICBmdW5jdGlvbiBoZXhITUFDTUQ1IChrLCBkKSB7XG4gICAgcmV0dXJuIHJzdHIyaGV4KHJhd0hNQUNNRDUoaywgZCkpXG4gIH1cblxuICBmdW5jdGlvbiBtZDUgKHN0cmluZywga2V5LCByYXcpIHtcbiAgICBpZiAoIWtleSkge1xuICAgICAgaWYgKCFyYXcpIHtcbiAgICAgICAgcmV0dXJuIGhleE1ENShzdHJpbmcpXG4gICAgICB9XG4gICAgICByZXR1cm4gcmF3TUQ1KHN0cmluZylcbiAgICB9XG4gICAgaWYgKCFyYXcpIHtcbiAgICAgIHJldHVybiBoZXhITUFDTUQ1KGtleSwgc3RyaW5nKVxuICAgIH1cbiAgICByZXR1cm4gcmF3SE1BQ01ENShrZXksIHN0cmluZylcbiAgfVxuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG1kNVxuICAgIH0pXG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IG1kNVxuICB9IGVsc2Uge1xuICAgICQubWQ1ID0gbWQ1XG4gIH1cbn0pKHRoaXMpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/blueimp-md5/js/md5.js\n")},"./src2/encrypt.js":
/*!*************************!*\
  !*** ./src2/encrypt.js ***!
  \*************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\nlet encrypt = {};\r\n(()=>{\r\nlet md5_util = __webpack_require__(/*! blueimp-md5 */ \"./node_modules/blueimp-md5/js/md5.js\")\r\nfunction encodeStr (str){\r\n    let len = str.length / 2\r\n    let str1 = str.substring(0, len)\r\n    let str2 = str.substring(len)\r\n    //console.log('before:', str, (str === (str1+str2)) )\r\n    let arr1 = str1.split('').reverse();\r\n    let arr2 = str2.split('').reverse();\r\n    let arr = [].concat(arr1).concat(arr2)\r\n    let impurities = (md5_util(''+Math.random()+(new Date()))+md5_util(''+Math.random()+(new Date()))).split('')\r\n    let impurities2 = (md5_util(''+Math.random()+(new Date()))+md5_util(''+Math.random()+(new Date()))).split('')\r\n    let newarr = []\r\n    for(var i = 0; i< arr.length; i++){\r\n        newarr.push(makeRandomAlphabet() + arr[i] + makeRandomAlphabet());\r\n    }\r\n    let newstr = newarr.join('')\r\n    return newstr;\r\n}\r\nfunction decodeStr (encoded){\r\n    let arr = encoded.split('').reverse();\r\n    let char = 1;\r\n    let str = ''\r\n    while(char){\r\n        //console.log(char)\r\n        arr.shift();\r\n        char = arr.shift();\r\n        if(char)str += char;\r\n        arr.shift();\r\n    }\r\n    let len = str.length / 2\r\n    let str1 = str.substring(0, len)\r\n    let str2 = str.substring(len)\r\n    let arr1 = str1.split('');\r\n    let arr2 = str2.split('');\r\n    str = arr2.join('') + arr1.join('') \r\n    return str;\r\n}\r\nfunction makeRandomAlphabet(capitalize) {\r\n    var text = \"\";\r\n    var alphabets = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n    var alphabetsUpper = alphabets.toUpperCase();\r\n    var alphabetsLower = alphabets.toLowerCase();\r\n    var possible = alphabetsUpper+alphabetsLower;\r\n    if(typeof capitalize !== 'undefined' && capitalize === 'upper') possible = alphabetsUpper;\r\n    if(typeof capitalize !== 'undefined' && capitalize === 'lower') possible = alphabetsLower;\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    return text;\r\n};\r\nfunction makeRandomNumber() {\r\n    var text = \"\";\r\n    var possible = \"0123456789\";\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    return text;\r\n};\r\n//console.warn('random-alphabet', makeRandomAlphabet(), makeRandomAlphabet('upper'), makeRandomAlphabet('lower'), makeRandomNumber());\r\nfunction makeRespCode(){\r\n    return  makeRandomAlphabet()\r\n}\r\nfunction isRespCode(info){\r\n    var letter = info.substring(0,1)\r\n    return  /\\b[a-zA-Z]\\b/.test(letter)\r\n}\r\nfunction makeReqCode(){\r\n    return  makeRandomNumber()\r\n}\r\nfunction isReqCode(info){\r\n    var letter = info.substring(0,1)\r\n    return  /\\b[0-9]\\b/.test(letter)\r\n}\r\nfunction encryptFromCode(desc, from){\r\n    if(from === 'self') return 0;\r\n    if(from === 'child') return 1;\r\n    if(from === 'parent') return 2;\r\n}\r\nfunction decryptFromCode(desc, info){\r\n    var letter = info.substring(1,2)\r\n    if(letter === '0') return 'self';\r\n    if(letter === '1') return 'child';\r\n    if(letter === '2') return 'parent';\r\n}\r\nfunction encryptMessageData(data, status){\r\n    var isResp = status.isResp;\r\n    var isReq = status.isReq;\r\n    //req & resp\r\n    if(status.isResp){\r\n        var isResp = makeRespCode();//英文字母代表是response\r\n        data.info = `${isResp}`;\r\n    }\r\n    if(status.isReq){\r\n        var isReq = makeReqCode();//表明是request\r\n        data.info = `${isReq}`;\r\n    }\r\n    //from\r\n    var fromCode = encryptFromCode({isReq, isResp}, status.from)\r\n    data.info += fromCode;\r\n    //pageid\r\n    if(isReq) data.info += status.requestPageId;\r\n    if(isResp) data.info += status.responsePageId;\r\n    //tokens\r\n    let token = status.responseToken;\r\n    let tokenLength = token.length;\r\n    let tokenLengthMark;\r\n    if(tokenLength === 32) tokenLengthMark = 32;\r\n    if(tokenLength === 96) tokenLengthMark = 96;\r\n    if(tokenLength === 32) token = token + md5_util(Math.random()) + md5_util(Math.random())//补齐到96位\r\n    data.info += tokenLengthMark + token;\r\n    //eventName\r\n    var hasEventName = !!status.eventName;\r\n    var fakeEventName = md5_util(Math.random())\r\n    data.info += (hasEventName?'1':'0') + (hasEventName?status.eventName:fakeEventName)\r\n\r\n    //data.responseToken = status.responseToken\r\n\r\n    //console.warn('tokenLength', token, tokenLength)\r\n    data.info = encryptInfo(data.info);\r\n\r\n    return data;\r\n}\r\nfunction decryptMessageData(data){   \r\n    data.info = decryptInfo(data.info); \r\n    var isResp = isRespCode(data.info);\r\n    var isReq = isReqCode(data.info);\r\n    var status = {}\r\n    if(isResp){\r\n        status.isResp = true;\r\n    }\r\n    if(isReq){\r\n        status.isReq = true;\r\n    }\r\n    status.from = decryptFromCode({isReq, isResp}, data.info)\r\n    // 2+32+2+96\r\n    var currentInfoStr = data.info.substring(2)\r\n    //pageid\r\n    var pageid = currentInfoStr.substring(0, 32);currentInfoStr = currentInfoStr.substring(32)\r\n    if(isReq) status.requestPageId = pageid;\r\n    if(isResp) status.responsePageId = pageid;\r\n    //token\r\n    //console.warn(currentInfoStr.length)\r\n    var tokenLengthStr = currentInfoStr.substring(0, 2);currentInfoStr = currentInfoStr.substring(2)\r\n    var tokenLength = parseInt(tokenLengthStr)\r\n    var token = currentInfoStr.substring(0, 96);currentInfoStr = currentInfoStr.substring(96)\r\n    //console.warn('kk',currentInfoStr.length, tokenLength, token.length)\r\n    if(tokenLength === 32) token = token.substring(0, tokenLength)\r\n    status.responseToken = token;\r\n\r\n    //eventName\r\n    var has = currentInfoStr.substring(0, 1);currentInfoStr = currentInfoStr.substring(1)\r\n    var hasEventName = (has === '1'?true:false);\r\n    var eventName = currentInfoStr.substring(0, 32);currentInfoStr = currentInfoStr.substring(32)\r\n    //console.warn(has, hasEventName, eventName.length)\r\n\r\n    if(hasEventName){\r\n        status.eventName = eventName;\r\n    }\r\n    return status;\r\n}\r\nvar SHOULD_DECRYPT_CODE = md5_util(new Date()+'');\r\nlet encryptInfo = (info)=>{\r\n    let arr = info.split('')\r\n    arr = arr.reverse();\r\n    var result = arr.join('')\r\n    result = result + 'z'//不是偶数，凑个偶数\r\n    result = encodeStr(result)//加密\r\n    result = SHOULD_DECRYPT_CODE + result;//HEAD\r\n    return result;\r\n}\r\n\r\nlet decryptInfo = (info)=>{\r\n    if(info.indexOf(SHOULD_DECRYPT_CODE)!==0) return info;//如果只是转发就不必再次解密\r\n    info = info.substring(SHOULD_DECRYPT_CODE.length)//HEAD\r\n    info = decodeStr(info); //解密\r\n    info = info.substring(0, info.length-1)//去掉凑偶数的字符\r\n    let arr = info.split('')\r\n    arr = arr.reverse();\r\n    var result = arr.join('')\r\n    return result;\r\n}\r\n// var userinput = md5_util('12341234123');\r\n// //userinput = '123abc'\r\n// var encoded = encodeStr(userinput)\r\n// var decoded = decodeStr(encoded);\r\n// console.log('encoded:',encoded)\r\n// console.log('dencoded:', decoded)\r\n// console.log('userinput==dencoded:', userinput === decoded)\r\nencrypt.encodeStr=encodeStr;\r\nencrypt.decodeStr=decodeStr;\r\nencrypt.encryptMessageData=encryptMessageData;\r\nencrypt.decryptMessageData=decryptMessageData;\r\n})();\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (encrypt);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMyL2VuY3J5cHQuanM/MDU2ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQSxlQUFlLG1CQUFPLENBQUMseURBQWE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyx1QkFBdUIsT0FBTztBQUM5QjtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLHVCQUF1QixNQUFNO0FBQzdCO0FBQ0E7QUFDQSxvQ0FBb0MsY0FBYztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQztBQUNBLHVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGNBQWM7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLG9EQUFvRDtBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTs7QUFFQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLHNFQUFPLEVBQUMiLCJmaWxlIjoiLi9zcmMyL2VuY3J5cHQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZW5jcnlwdCA9IHt9O1xyXG4oKCk9PntcclxubGV0IG1kNV91dGlsID0gcmVxdWlyZSgnYmx1ZWltcC1tZDUnKVxyXG5mdW5jdGlvbiBlbmNvZGVTdHIgKHN0cil7XHJcbiAgICBsZXQgbGVuID0gc3RyLmxlbmd0aCAvIDJcclxuICAgIGxldCBzdHIxID0gc3RyLnN1YnN0cmluZygwLCBsZW4pXHJcbiAgICBsZXQgc3RyMiA9IHN0ci5zdWJzdHJpbmcobGVuKVxyXG4gICAgLy9jb25zb2xlLmxvZygnYmVmb3JlOicsIHN0ciwgKHN0ciA9PT0gKHN0cjErc3RyMikpIClcclxuICAgIGxldCBhcnIxID0gc3RyMS5zcGxpdCgnJykucmV2ZXJzZSgpO1xyXG4gICAgbGV0IGFycjIgPSBzdHIyLnNwbGl0KCcnKS5yZXZlcnNlKCk7XHJcbiAgICBsZXQgYXJyID0gW10uY29uY2F0KGFycjEpLmNvbmNhdChhcnIyKVxyXG4gICAgbGV0IGltcHVyaXRpZXMgPSAobWQ1X3V0aWwoJycrTWF0aC5yYW5kb20oKSsobmV3IERhdGUoKSkpK21kNV91dGlsKCcnK01hdGgucmFuZG9tKCkrKG5ldyBEYXRlKCkpKSkuc3BsaXQoJycpXHJcbiAgICBsZXQgaW1wdXJpdGllczIgPSAobWQ1X3V0aWwoJycrTWF0aC5yYW5kb20oKSsobmV3IERhdGUoKSkpK21kNV91dGlsKCcnK01hdGgucmFuZG9tKCkrKG5ldyBEYXRlKCkpKSkuc3BsaXQoJycpXHJcbiAgICBsZXQgbmV3YXJyID0gW11cclxuICAgIGZvcih2YXIgaSA9IDA7IGk8IGFyci5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgbmV3YXJyLnB1c2gobWFrZVJhbmRvbUFscGhhYmV0KCkgKyBhcnJbaV0gKyBtYWtlUmFuZG9tQWxwaGFiZXQoKSk7XHJcbiAgICB9XHJcbiAgICBsZXQgbmV3c3RyID0gbmV3YXJyLmpvaW4oJycpXHJcbiAgICByZXR1cm4gbmV3c3RyO1xyXG59XHJcbmZ1bmN0aW9uIGRlY29kZVN0ciAoZW5jb2RlZCl7XHJcbiAgICBsZXQgYXJyID0gZW5jb2RlZC5zcGxpdCgnJykucmV2ZXJzZSgpO1xyXG4gICAgbGV0IGNoYXIgPSAxO1xyXG4gICAgbGV0IHN0ciA9ICcnXHJcbiAgICB3aGlsZShjaGFyKXtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGNoYXIpXHJcbiAgICAgICAgYXJyLnNoaWZ0KCk7XHJcbiAgICAgICAgY2hhciA9IGFyci5zaGlmdCgpO1xyXG4gICAgICAgIGlmKGNoYXIpc3RyICs9IGNoYXI7XHJcbiAgICAgICAgYXJyLnNoaWZ0KCk7XHJcbiAgICB9XHJcbiAgICBsZXQgbGVuID0gc3RyLmxlbmd0aCAvIDJcclxuICAgIGxldCBzdHIxID0gc3RyLnN1YnN0cmluZygwLCBsZW4pXHJcbiAgICBsZXQgc3RyMiA9IHN0ci5zdWJzdHJpbmcobGVuKVxyXG4gICAgbGV0IGFycjEgPSBzdHIxLnNwbGl0KCcnKTtcclxuICAgIGxldCBhcnIyID0gc3RyMi5zcGxpdCgnJyk7XHJcbiAgICBzdHIgPSBhcnIyLmpvaW4oJycpICsgYXJyMS5qb2luKCcnKSBcclxuICAgIHJldHVybiBzdHI7XHJcbn1cclxuZnVuY3Rpb24gbWFrZVJhbmRvbUFscGhhYmV0KGNhcGl0YWxpemUpIHtcclxuICAgIHZhciB0ZXh0ID0gXCJcIjtcclxuICAgIHZhciBhbHBoYWJldHMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCI7XHJcbiAgICB2YXIgYWxwaGFiZXRzVXBwZXIgPSBhbHBoYWJldHMudG9VcHBlckNhc2UoKTtcclxuICAgIHZhciBhbHBoYWJldHNMb3dlciA9IGFscGhhYmV0cy50b0xvd2VyQ2FzZSgpO1xyXG4gICAgdmFyIHBvc3NpYmxlID0gYWxwaGFiZXRzVXBwZXIrYWxwaGFiZXRzTG93ZXI7XHJcbiAgICBpZih0eXBlb2YgY2FwaXRhbGl6ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FwaXRhbGl6ZSA9PT0gJ3VwcGVyJykgcG9zc2libGUgPSBhbHBoYWJldHNVcHBlcjtcclxuICAgIGlmKHR5cGVvZiBjYXBpdGFsaXplICE9PSAndW5kZWZpbmVkJyAmJiBjYXBpdGFsaXplID09PSAnbG93ZXInKSBwb3NzaWJsZSA9IGFscGhhYmV0c0xvd2VyO1xyXG4gICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XHJcbiAgICByZXR1cm4gdGV4dDtcclxufTtcclxuZnVuY3Rpb24gbWFrZVJhbmRvbU51bWJlcigpIHtcclxuICAgIHZhciB0ZXh0ID0gXCJcIjtcclxuICAgIHZhciBwb3NzaWJsZSA9IFwiMDEyMzQ1Njc4OVwiO1xyXG4gICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XHJcbiAgICByZXR1cm4gdGV4dDtcclxufTtcclxuLy9jb25zb2xlLndhcm4oJ3JhbmRvbS1hbHBoYWJldCcsIG1ha2VSYW5kb21BbHBoYWJldCgpLCBtYWtlUmFuZG9tQWxwaGFiZXQoJ3VwcGVyJyksIG1ha2VSYW5kb21BbHBoYWJldCgnbG93ZXInKSwgbWFrZVJhbmRvbU51bWJlcigpKTtcclxuZnVuY3Rpb24gbWFrZVJlc3BDb2RlKCl7XHJcbiAgICByZXR1cm4gIG1ha2VSYW5kb21BbHBoYWJldCgpXHJcbn1cclxuZnVuY3Rpb24gaXNSZXNwQ29kZShpbmZvKXtcclxuICAgIHZhciBsZXR0ZXIgPSBpbmZvLnN1YnN0cmluZygwLDEpXHJcbiAgICByZXR1cm4gIC9cXGJbYS16QS1aXVxcYi8udGVzdChsZXR0ZXIpXHJcbn1cclxuZnVuY3Rpb24gbWFrZVJlcUNvZGUoKXtcclxuICAgIHJldHVybiAgbWFrZVJhbmRvbU51bWJlcigpXHJcbn1cclxuZnVuY3Rpb24gaXNSZXFDb2RlKGluZm8pe1xyXG4gICAgdmFyIGxldHRlciA9IGluZm8uc3Vic3RyaW5nKDAsMSlcclxuICAgIHJldHVybiAgL1xcYlswLTldXFxiLy50ZXN0KGxldHRlcilcclxufVxyXG5mdW5jdGlvbiBlbmNyeXB0RnJvbUNvZGUoZGVzYywgZnJvbSl7XHJcbiAgICBpZihmcm9tID09PSAnc2VsZicpIHJldHVybiAwO1xyXG4gICAgaWYoZnJvbSA9PT0gJ2NoaWxkJykgcmV0dXJuIDE7XHJcbiAgICBpZihmcm9tID09PSAncGFyZW50JykgcmV0dXJuIDI7XHJcbn1cclxuZnVuY3Rpb24gZGVjcnlwdEZyb21Db2RlKGRlc2MsIGluZm8pe1xyXG4gICAgdmFyIGxldHRlciA9IGluZm8uc3Vic3RyaW5nKDEsMilcclxuICAgIGlmKGxldHRlciA9PT0gJzAnKSByZXR1cm4gJ3NlbGYnO1xyXG4gICAgaWYobGV0dGVyID09PSAnMScpIHJldHVybiAnY2hpbGQnO1xyXG4gICAgaWYobGV0dGVyID09PSAnMicpIHJldHVybiAncGFyZW50JztcclxufVxyXG5mdW5jdGlvbiBlbmNyeXB0TWVzc2FnZURhdGEoZGF0YSwgc3RhdHVzKXtcclxuICAgIHZhciBpc1Jlc3AgPSBzdGF0dXMuaXNSZXNwO1xyXG4gICAgdmFyIGlzUmVxID0gc3RhdHVzLmlzUmVxO1xyXG4gICAgLy9yZXEgJiByZXNwXHJcbiAgICBpZihzdGF0dXMuaXNSZXNwKXtcclxuICAgICAgICB2YXIgaXNSZXNwID0gbWFrZVJlc3BDb2RlKCk7Ly/oi7HmloflrZfmr43ku6PooajmmK9yZXNwb25zZVxyXG4gICAgICAgIGRhdGEuaW5mbyA9IGAke2lzUmVzcH1gO1xyXG4gICAgfVxyXG4gICAgaWYoc3RhdHVzLmlzUmVxKXtcclxuICAgICAgICB2YXIgaXNSZXEgPSBtYWtlUmVxQ29kZSgpOy8v6KGo5piO5pivcmVxdWVzdFxyXG4gICAgICAgIGRhdGEuaW5mbyA9IGAke2lzUmVxfWA7XHJcbiAgICB9XHJcbiAgICAvL2Zyb21cclxuICAgIHZhciBmcm9tQ29kZSA9IGVuY3J5cHRGcm9tQ29kZSh7aXNSZXEsIGlzUmVzcH0sIHN0YXR1cy5mcm9tKVxyXG4gICAgZGF0YS5pbmZvICs9IGZyb21Db2RlO1xyXG4gICAgLy9wYWdlaWRcclxuICAgIGlmKGlzUmVxKSBkYXRhLmluZm8gKz0gc3RhdHVzLnJlcXVlc3RQYWdlSWQ7XHJcbiAgICBpZihpc1Jlc3ApIGRhdGEuaW5mbyArPSBzdGF0dXMucmVzcG9uc2VQYWdlSWQ7XHJcbiAgICAvL3Rva2Vuc1xyXG4gICAgbGV0IHRva2VuID0gc3RhdHVzLnJlc3BvbnNlVG9rZW47XHJcbiAgICBsZXQgdG9rZW5MZW5ndGggPSB0b2tlbi5sZW5ndGg7XHJcbiAgICBsZXQgdG9rZW5MZW5ndGhNYXJrO1xyXG4gICAgaWYodG9rZW5MZW5ndGggPT09IDMyKSB0b2tlbkxlbmd0aE1hcmsgPSAzMjtcclxuICAgIGlmKHRva2VuTGVuZ3RoID09PSA5NikgdG9rZW5MZW5ndGhNYXJrID0gOTY7XHJcbiAgICBpZih0b2tlbkxlbmd0aCA9PT0gMzIpIHRva2VuID0gdG9rZW4gKyBtZDVfdXRpbChNYXRoLnJhbmRvbSgpKSArIG1kNV91dGlsKE1hdGgucmFuZG9tKCkpLy/ooaXpvZDliLA5NuS9jVxyXG4gICAgZGF0YS5pbmZvICs9IHRva2VuTGVuZ3RoTWFyayArIHRva2VuO1xyXG4gICAgLy9ldmVudE5hbWVcclxuICAgIHZhciBoYXNFdmVudE5hbWUgPSAhIXN0YXR1cy5ldmVudE5hbWU7XHJcbiAgICB2YXIgZmFrZUV2ZW50TmFtZSA9IG1kNV91dGlsKE1hdGgucmFuZG9tKCkpXHJcbiAgICBkYXRhLmluZm8gKz0gKGhhc0V2ZW50TmFtZT8nMSc6JzAnKSArIChoYXNFdmVudE5hbWU/c3RhdHVzLmV2ZW50TmFtZTpmYWtlRXZlbnROYW1lKVxyXG5cclxuICAgIC8vZGF0YS5yZXNwb25zZVRva2VuID0gc3RhdHVzLnJlc3BvbnNlVG9rZW5cclxuXHJcbiAgICAvL2NvbnNvbGUud2FybigndG9rZW5MZW5ndGgnLCB0b2tlbiwgdG9rZW5MZW5ndGgpXHJcbiAgICBkYXRhLmluZm8gPSBlbmNyeXB0SW5mbyhkYXRhLmluZm8pO1xyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcbmZ1bmN0aW9uIGRlY3J5cHRNZXNzYWdlRGF0YShkYXRhKXsgICBcclxuICAgIGRhdGEuaW5mbyA9IGRlY3J5cHRJbmZvKGRhdGEuaW5mbyk7IFxyXG4gICAgdmFyIGlzUmVzcCA9IGlzUmVzcENvZGUoZGF0YS5pbmZvKTtcclxuICAgIHZhciBpc1JlcSA9IGlzUmVxQ29kZShkYXRhLmluZm8pO1xyXG4gICAgdmFyIHN0YXR1cyA9IHt9XHJcbiAgICBpZihpc1Jlc3Ape1xyXG4gICAgICAgIHN0YXR1cy5pc1Jlc3AgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYoaXNSZXEpe1xyXG4gICAgICAgIHN0YXR1cy5pc1JlcSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBzdGF0dXMuZnJvbSA9IGRlY3J5cHRGcm9tQ29kZSh7aXNSZXEsIGlzUmVzcH0sIGRhdGEuaW5mbylcclxuICAgIC8vIDIrMzIrMis5NlxyXG4gICAgdmFyIGN1cnJlbnRJbmZvU3RyID0gZGF0YS5pbmZvLnN1YnN0cmluZygyKVxyXG4gICAgLy9wYWdlaWRcclxuICAgIHZhciBwYWdlaWQgPSBjdXJyZW50SW5mb1N0ci5zdWJzdHJpbmcoMCwgMzIpO2N1cnJlbnRJbmZvU3RyID0gY3VycmVudEluZm9TdHIuc3Vic3RyaW5nKDMyKVxyXG4gICAgaWYoaXNSZXEpIHN0YXR1cy5yZXF1ZXN0UGFnZUlkID0gcGFnZWlkO1xyXG4gICAgaWYoaXNSZXNwKSBzdGF0dXMucmVzcG9uc2VQYWdlSWQgPSBwYWdlaWQ7XHJcbiAgICAvL3Rva2VuXHJcbiAgICAvL2NvbnNvbGUud2FybihjdXJyZW50SW5mb1N0ci5sZW5ndGgpXHJcbiAgICB2YXIgdG9rZW5MZW5ndGhTdHIgPSBjdXJyZW50SW5mb1N0ci5zdWJzdHJpbmcoMCwgMik7Y3VycmVudEluZm9TdHIgPSBjdXJyZW50SW5mb1N0ci5zdWJzdHJpbmcoMilcclxuICAgIHZhciB0b2tlbkxlbmd0aCA9IHBhcnNlSW50KHRva2VuTGVuZ3RoU3RyKVxyXG4gICAgdmFyIHRva2VuID0gY3VycmVudEluZm9TdHIuc3Vic3RyaW5nKDAsIDk2KTtjdXJyZW50SW5mb1N0ciA9IGN1cnJlbnRJbmZvU3RyLnN1YnN0cmluZyg5NilcclxuICAgIC8vY29uc29sZS53YXJuKCdraycsY3VycmVudEluZm9TdHIubGVuZ3RoLCB0b2tlbkxlbmd0aCwgdG9rZW4ubGVuZ3RoKVxyXG4gICAgaWYodG9rZW5MZW5ndGggPT09IDMyKSB0b2tlbiA9IHRva2VuLnN1YnN0cmluZygwLCB0b2tlbkxlbmd0aClcclxuICAgIHN0YXR1cy5yZXNwb25zZVRva2VuID0gdG9rZW47XHJcblxyXG4gICAgLy9ldmVudE5hbWVcclxuICAgIHZhciBoYXMgPSBjdXJyZW50SW5mb1N0ci5zdWJzdHJpbmcoMCwgMSk7Y3VycmVudEluZm9TdHIgPSBjdXJyZW50SW5mb1N0ci5zdWJzdHJpbmcoMSlcclxuICAgIHZhciBoYXNFdmVudE5hbWUgPSAoaGFzID09PSAnMSc/dHJ1ZTpmYWxzZSk7XHJcbiAgICB2YXIgZXZlbnROYW1lID0gY3VycmVudEluZm9TdHIuc3Vic3RyaW5nKDAsIDMyKTtjdXJyZW50SW5mb1N0ciA9IGN1cnJlbnRJbmZvU3RyLnN1YnN0cmluZygzMilcclxuICAgIC8vY29uc29sZS53YXJuKGhhcywgaGFzRXZlbnROYW1lLCBldmVudE5hbWUubGVuZ3RoKVxyXG5cclxuICAgIGlmKGhhc0V2ZW50TmFtZSl7XHJcbiAgICAgICAgc3RhdHVzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGF0dXM7XHJcbn1cclxudmFyIFNIT1VMRF9ERUNSWVBUX0NPREUgPSBtZDVfdXRpbChuZXcgRGF0ZSgpKycnKTtcclxubGV0IGVuY3J5cHRJbmZvID0gKGluZm8pPT57XHJcbiAgICBsZXQgYXJyID0gaW5mby5zcGxpdCgnJylcclxuICAgIGFyciA9IGFyci5yZXZlcnNlKCk7XHJcbiAgICB2YXIgcmVzdWx0ID0gYXJyLmpvaW4oJycpXHJcbiAgICByZXN1bHQgPSByZXN1bHQgKyAneicvL+S4jeaYr+WBtuaVsO+8jOWHkeS4quWBtuaVsFxyXG4gICAgcmVzdWx0ID0gZW5jb2RlU3RyKHJlc3VsdCkvL+WKoOWvhlxyXG4gICAgcmVzdWx0ID0gU0hPVUxEX0RFQ1JZUFRfQ09ERSArIHJlc3VsdDsvL0hFQURcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmxldCBkZWNyeXB0SW5mbyA9IChpbmZvKT0+e1xyXG4gICAgaWYoaW5mby5pbmRleE9mKFNIT1VMRF9ERUNSWVBUX0NPREUpIT09MCkgcmV0dXJuIGluZm87Ly/lpoLmnpzlj6rmmK/ovazlj5HlsLHkuI3lv4Xlho3mrKHop6Plr4ZcclxuICAgIGluZm8gPSBpbmZvLnN1YnN0cmluZyhTSE9VTERfREVDUllQVF9DT0RFLmxlbmd0aCkvL0hFQURcclxuICAgIGluZm8gPSBkZWNvZGVTdHIoaW5mbyk7IC8v6Kej5a+GXHJcbiAgICBpbmZvID0gaW5mby5zdWJzdHJpbmcoMCwgaW5mby5sZW5ndGgtMSkvL+WOu+aOieWHkeWBtuaVsOeahOWtl+esplxyXG4gICAgbGV0IGFyciA9IGluZm8uc3BsaXQoJycpXHJcbiAgICBhcnIgPSBhcnIucmV2ZXJzZSgpO1xyXG4gICAgdmFyIHJlc3VsdCA9IGFyci5qb2luKCcnKVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4vLyB2YXIgdXNlcmlucHV0ID0gbWQ1X3V0aWwoJzEyMzQxMjM0MTIzJyk7XHJcbi8vIC8vdXNlcmlucHV0ID0gJzEyM2FiYydcclxuLy8gdmFyIGVuY29kZWQgPSBlbmNvZGVTdHIodXNlcmlucHV0KVxyXG4vLyB2YXIgZGVjb2RlZCA9IGRlY29kZVN0cihlbmNvZGVkKTtcclxuLy8gY29uc29sZS5sb2coJ2VuY29kZWQ6JyxlbmNvZGVkKVxyXG4vLyBjb25zb2xlLmxvZygnZGVuY29kZWQ6JywgZGVjb2RlZClcclxuLy8gY29uc29sZS5sb2coJ3VzZXJpbnB1dD09ZGVuY29kZWQ6JywgdXNlcmlucHV0ID09PSBkZWNvZGVkKVxyXG5lbmNyeXB0LmVuY29kZVN0cj1lbmNvZGVTdHI7XHJcbmVuY3J5cHQuZGVjb2RlU3RyPWRlY29kZVN0cjtcclxuZW5jcnlwdC5lbmNyeXB0TWVzc2FnZURhdGE9ZW5jcnlwdE1lc3NhZ2VEYXRhO1xyXG5lbmNyeXB0LmRlY3J5cHRNZXNzYWdlRGF0YT1kZWNyeXB0TWVzc2FnZURhdGE7XHJcbn0pKCk7XHJcbmV4cG9ydCBkZWZhdWx0IGVuY3J5cHQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src2/encrypt.js\n")},"./src2/listener.js":
/*!**************************!*\
  !*** ./src2/listener.js ***!
  \**************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _encrypt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encrypt */ \"./src2/encrypt.js\");\n//listener\r\nlet md5_util = __webpack_require__(/*! blueimp-md5 */ \"./node_modules/blueimp-md5/js/md5.js\")\r\n\r\nlet init = (messenger)=>{\r\n    var _listeningEvents = {}\r\n    var handleRequest = function (data) {\r\n        //console.log('on msg', window.location.href, data)\r\n        var data = data.data;\r\n        if(data && data.messengerjs /**&& data.messengerjs.isReq **/){\r\n            process(data.messengerjs)\r\n        }\r\n    }\r\n    var doResponse = (responseToken, result)=>{\r\n        //console.log('i-can-process-this-request:', eventName, args, responseToken, result)\r\n        var windows = messenger.getTargetWindows();\r\n        for(var i = 0; i < windows.length; i++){\r\n            var iframe = windows[i]\r\n            //console.log('send response:', eventName, responseToken, iframe)\r\n            var obj = {\r\n                messengerjs:{                          \r\n                    result\r\n                }\r\n            };\r\n            obj.messengerjs = _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].encryptMessageData(obj.messengerjs, {\r\n                isResp: true,\r\n                from: iframe.from,\r\n                responsePageId: messenger.getPageId(),\r\n                responseToken: _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].encodeStr(responseToken),\r\n            });\r\n            obj = JSON.parse(JSON.stringify(obj));\r\n            messenger.doPostMessage(iframe.win, obj, '*');\r\n        }\r\n    }\r\n    var process = function(data){\r\n        //invoke\r\n        var args = data.args;\r\n        var status = _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].decryptMessageData(data);   \r\n        var eventName = status.eventName;     \r\n        var responseToken = status.responseToken;\r\n\r\n        //console.warn('doResponse', responseToken, responseToken.length)\r\n        \r\n        var fn = _listeningEvents[eventName]\r\n        //console.log('process', !!fn, window.location.href)\r\n        if(fn && data){\r\n            if(status.isReq){\r\n                var result = fn.apply(window, args)\r\n                if(result && typeof result.then === 'function'){\r\n                    result.then((data)=>{\r\n                        doResponse(responseToken, data)\r\n                    })\r\n                }else{\r\n                    doResponse(responseToken, result)\r\n                }\r\n            }            \r\n        }\r\n        //转发\r\n        if(status.from === 'parent'){//继续向child传播\r\n            var iframes = document.getElementsByTagName('iframe');\r\n            for(var i = 0; i < iframes.length; i++){\r\n                status.from = 'parent';\r\n                //console.log('godeep', window.location.href, i, data)\r\n                var obj = {messengerjs:data}\r\n                obj = JSON.parse(JSON.stringify(obj));\r\n                messenger.doPostMessage(iframes[i].contentWindow, obj, '*');\r\n            }\r\n        }\r\n        if(status.from === 'child'){//继续向parent传播\r\n            //console.log('from child', window.location.href)\r\n            if(window !== window.parent){\r\n                status.from = 'child';\r\n                var obj = {messengerjs:data}\r\n                obj = JSON.parse(JSON.stringify(obj));\r\n                messenger.doPostMessage(window.parent, obj, '*');\r\n            }\r\n        }\r\n    }\r\n    messenger.listen = function(eventName, callback){\r\n        eventName = md5_util(eventName)\r\n        _listeningEvents[eventName] = callback;\r\n    };    \r\n    messenger.stopListen = function(eventName){\r\n        eventName = md5_util(eventName)\r\n        delete _listeningEvents[eventName];\r\n    };\r\n    if (window.addEventListener) {\r\n        window.addEventListener(\"message\", handleRequest);\r\n    } else if (window.attachEvent) {\r\n        window.attachEvent(\"onmessage\", handleRequest);\r\n    }\r\n    //console.log('listening...')\r\n}\r\nlet listener={\r\n    init\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (listener);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMyL2xpc3RlbmVyLmpzPzI2MWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0EsZUFBZSxtQkFBTyxDQUFDLHlEQUFhO0FBQ0o7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG9CQUFvQjtBQUMxQztBQUNBO0FBQ0E7QUFDQSw2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixnREFBTztBQUNyQztBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0RBQU87QUFDdEMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdEQUFPLDBCO0FBQzVCLHlDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGE7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0EsMEJBQTBCLG9CQUFvQjtBQUM5QztBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLHVFQUFRLEVBQUMiLCJmaWxlIjoiLi9zcmMyL2xpc3RlbmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9saXN0ZW5lclxyXG5sZXQgbWQ1X3V0aWwgPSByZXF1aXJlKCdibHVlaW1wLW1kNScpXHJcbmltcG9ydCBlbmNyeXB0IGZyb20gJy4vZW5jcnlwdCc7XHJcbmxldCBpbml0ID0gKG1lc3Nlbmdlcik9PntcclxuICAgIHZhciBfbGlzdGVuaW5nRXZlbnRzID0ge31cclxuICAgIHZhciBoYW5kbGVSZXF1ZXN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdvbiBtc2cnLCB3aW5kb3cubG9jYXRpb24uaHJlZiwgZGF0YSlcclxuICAgICAgICB2YXIgZGF0YSA9IGRhdGEuZGF0YTtcclxuICAgICAgICBpZihkYXRhICYmIGRhdGEubWVzc2VuZ2VyanMgLyoqJiYgZGF0YS5tZXNzZW5nZXJqcy5pc1JlcSAqKi8pe1xyXG4gICAgICAgICAgICBwcm9jZXNzKGRhdGEubWVzc2VuZ2VyanMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGRvUmVzcG9uc2UgPSAocmVzcG9uc2VUb2tlbiwgcmVzdWx0KT0+e1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2ktY2FuLXByb2Nlc3MtdGhpcy1yZXF1ZXN0OicsIGV2ZW50TmFtZSwgYXJncywgcmVzcG9uc2VUb2tlbiwgcmVzdWx0KVxyXG4gICAgICAgIHZhciB3aW5kb3dzID0gbWVzc2VuZ2VyLmdldFRhcmdldFdpbmRvd3MoKTtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgd2luZG93cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciBpZnJhbWUgPSB3aW5kb3dzW2ldXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3NlbmQgcmVzcG9uc2U6JywgZXZlbnROYW1lLCByZXNwb25zZVRva2VuLCBpZnJhbWUpXHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzZW5nZXJqczp7ICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgb2JqLm1lc3NlbmdlcmpzID0gZW5jcnlwdC5lbmNyeXB0TWVzc2FnZURhdGEob2JqLm1lc3NlbmdlcmpzLCB7XHJcbiAgICAgICAgICAgICAgICBpc1Jlc3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBmcm9tOiBpZnJhbWUuZnJvbSxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlUGFnZUlkOiBtZXNzZW5nZXIuZ2V0UGFnZUlkKCksXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVRva2VuOiBlbmNyeXB0LmVuY29kZVN0cihyZXNwb25zZVRva2VuKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XHJcbiAgICAgICAgICAgIG1lc3Nlbmdlci5kb1Bvc3RNZXNzYWdlKGlmcmFtZS53aW4sIG9iaiwgJyonKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgcHJvY2VzcyA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIC8vaW52b2tlXHJcbiAgICAgICAgdmFyIGFyZ3MgPSBkYXRhLmFyZ3M7XHJcbiAgICAgICAgdmFyIHN0YXR1cyA9IGVuY3J5cHQuZGVjcnlwdE1lc3NhZ2VEYXRhKGRhdGEpOyAgIFxyXG4gICAgICAgIHZhciBldmVudE5hbWUgPSBzdGF0dXMuZXZlbnROYW1lOyAgICAgXHJcbiAgICAgICAgdmFyIHJlc3BvbnNlVG9rZW4gPSBzdGF0dXMucmVzcG9uc2VUb2tlbjtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLndhcm4oJ2RvUmVzcG9uc2UnLCByZXNwb25zZVRva2VuLCByZXNwb25zZVRva2VuLmxlbmd0aClcclxuICAgICAgICBcclxuICAgICAgICB2YXIgZm4gPSBfbGlzdGVuaW5nRXZlbnRzW2V2ZW50TmFtZV1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdwcm9jZXNzJywgISFmbiwgd2luZG93LmxvY2F0aW9uLmhyZWYpXHJcbiAgICAgICAgaWYoZm4gJiYgZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKHN0YXR1cy5pc1JlcSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZm4uYXBwbHkod2luZG93LCBhcmdzKVxyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oKGRhdGEpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvUmVzcG9uc2UocmVzcG9uc2VUb2tlbiwgZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9SZXNwb25zZShyZXNwb25zZVRva2VuLCByZXN1bHQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/ovazlj5FcclxuICAgICAgICBpZihzdGF0dXMuZnJvbSA9PT0gJ3BhcmVudCcpey8v57un57ut5ZCRY2hpbGTkvKDmkq1cclxuICAgICAgICAgICAgdmFyIGlmcmFtZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaWZyYW1lJyk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBpZnJhbWVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHN0YXR1cy5mcm9tID0gJ3BhcmVudCc7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdnb2RlZXAnLCB3aW5kb3cubG9jYXRpb24uaHJlZiwgaSwgZGF0YSlcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7bWVzc2VuZ2VyanM6ZGF0YX1cclxuICAgICAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XHJcbiAgICAgICAgICAgICAgICBtZXNzZW5nZXIuZG9Qb3N0TWVzc2FnZShpZnJhbWVzW2ldLmNvbnRlbnRXaW5kb3csIG9iaiwgJyonKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihzdGF0dXMuZnJvbSA9PT0gJ2NoaWxkJyl7Ly/nu6fnu63lkJFwYXJlbnTkvKDmkq1cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZnJvbSBjaGlsZCcsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKVxyXG4gICAgICAgICAgICBpZih3aW5kb3cgIT09IHdpbmRvdy5wYXJlbnQpe1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzLmZyb20gPSAnY2hpbGQnO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHttZXNzZW5nZXJqczpkYXRhfVxyXG4gICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcclxuICAgICAgICAgICAgICAgIG1lc3Nlbmdlci5kb1Bvc3RNZXNzYWdlKHdpbmRvdy5wYXJlbnQsIG9iaiwgJyonKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG1lc3Nlbmdlci5saXN0ZW4gPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKXtcclxuICAgICAgICBldmVudE5hbWUgPSBtZDVfdXRpbChldmVudE5hbWUpXHJcbiAgICAgICAgX2xpc3RlbmluZ0V2ZW50c1tldmVudE5hbWVdID0gY2FsbGJhY2s7XHJcbiAgICB9OyAgICBcclxuICAgIG1lc3Nlbmdlci5zdG9wTGlzdGVuID0gZnVuY3Rpb24oZXZlbnROYW1lKXtcclxuICAgICAgICBldmVudE5hbWUgPSBtZDVfdXRpbChldmVudE5hbWUpXHJcbiAgICAgICAgZGVsZXRlIF9saXN0ZW5pbmdFdmVudHNbZXZlbnROYW1lXTtcclxuICAgIH07XHJcbiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlUmVxdWVzdCk7XHJcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkge1xyXG4gICAgICAgIHdpbmRvdy5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBoYW5kbGVSZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8vY29uc29sZS5sb2coJ2xpc3RlbmluZy4uLicpXHJcbn1cclxubGV0IGxpc3RlbmVyPXtcclxuICAgIGluaXRcclxufVxyXG5leHBvcnQgZGVmYXVsdCBsaXN0ZW5lcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src2/listener.js\n")},"./src2/main.js":
/*!**********************!*\
  !*** ./src2/main.js ***!
  \**********************/
/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _encrypt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encrypt */ "./src2/encrypt.js");\n/* harmony import */ var _listener__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./listener */ "./src2/listener.js");\n/* harmony import */ var _requester__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./requester */ "./src2/requester.js");\n\r\n\r\n\r\n\r\nlet messenger = {\r\n    doPostMessage: function(winObj, data, target, other){\r\n        if(!winObj.postMessage){\r\n            return;\r\n        } \r\n        var messengerjs = data.messengerjs;\r\n        delete messengerjs.isReq;\r\n        delete messengerjs.isResp;\r\n        delete messengerjs.from;\r\n\r\n        messengerjs.isReq = undefined;\r\n        messengerjs.isResp = undefined;\r\n        messengerjs.from = undefined;\r\n\r\n        //messengerjs.aaaaa = 1111111;\r\n        messengerjs = JSON.parse(JSON.stringify(messengerjs))\r\n\r\n        var messengerjs2 = {}\r\n        for(var key in messengerjs){\r\n            if(key !== \'isReq\' && key !== \'isResp\' && key !== \'from\'){\r\n                messengerjs2[key] = messengerjs[key];\r\n            }else{\r\n                \r\n            }\r\n        }\r\n        var data2 = {\r\n            messengerjs: messengerjs2\r\n        }\r\n        winObj.postMessage(data2, target, other);\r\n    }\r\n};\r\n_listener__WEBPACK_IMPORTED_MODULE_1__["default"].init(messenger);\r\n_requester__WEBPACK_IMPORTED_MODULE_2__["default"].init(messenger);\r\nwindow.messenger = messenger;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMyL21haW4uanM/Y2VkZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFnQztBQUNFO0FBQ0U7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQVE7QUFDUixrREFBUztBQUNUIiwiZmlsZSI6Ii4vc3JjMi9tYWluLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVuY3J5cHQgZnJvbSAnLi9lbmNyeXB0JztcclxuaW1wb3J0IGxpc3RlbmVyIGZyb20gJy4vbGlzdGVuZXInO1xyXG5pbXBvcnQgcmVxdWVzdGVyIGZyb20gJy4vcmVxdWVzdGVyJztcclxuXHJcbmxldCBtZXNzZW5nZXIgPSB7XHJcbiAgICBkb1Bvc3RNZXNzYWdlOiBmdW5jdGlvbih3aW5PYmosIGRhdGEsIHRhcmdldCwgb3RoZXIpe1xyXG4gICAgICAgIGlmKCF3aW5PYmoucG9zdE1lc3NhZ2Upe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBcclxuICAgICAgICB2YXIgbWVzc2VuZ2VyanMgPSBkYXRhLm1lc3NlbmdlcmpzO1xyXG4gICAgICAgIGRlbGV0ZSBtZXNzZW5nZXJqcy5pc1JlcTtcclxuICAgICAgICBkZWxldGUgbWVzc2VuZ2VyanMuaXNSZXNwO1xyXG4gICAgICAgIGRlbGV0ZSBtZXNzZW5nZXJqcy5mcm9tO1xyXG5cclxuICAgICAgICBtZXNzZW5nZXJqcy5pc1JlcSA9IHVuZGVmaW5lZDtcclxuICAgICAgICBtZXNzZW5nZXJqcy5pc1Jlc3AgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgbWVzc2VuZ2VyanMuZnJvbSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgLy9tZXNzZW5nZXJqcy5hYWFhYSA9IDExMTExMTE7XHJcbiAgICAgICAgbWVzc2VuZ2VyanMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1lc3NlbmdlcmpzKSlcclxuXHJcbiAgICAgICAgdmFyIG1lc3NlbmdlcmpzMiA9IHt9XHJcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gbWVzc2VuZ2VyanMpe1xyXG4gICAgICAgICAgICBpZihrZXkgIT09ICdpc1JlcScgJiYga2V5ICE9PSAnaXNSZXNwJyAmJiBrZXkgIT09ICdmcm9tJyl7XHJcbiAgICAgICAgICAgICAgICBtZXNzZW5nZXJqczJba2V5XSA9IG1lc3NlbmdlcmpzW2tleV07XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRhdGEyID0ge1xyXG4gICAgICAgICAgICBtZXNzZW5nZXJqczogbWVzc2VuZ2VyanMyXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbk9iai5wb3N0TWVzc2FnZShkYXRhMiwgdGFyZ2V0LCBvdGhlcik7XHJcbiAgICB9XHJcbn07XHJcbmxpc3RlbmVyLmluaXQobWVzc2VuZ2VyKTtcclxucmVxdWVzdGVyLmluaXQobWVzc2VuZ2VyKTtcclxud2luZG93Lm1lc3NlbmdlciA9IG1lc3NlbmdlcjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src2/main.js\n')},"./src2/requester.js":
/*!***************************!*\
  !*** ./src2/requester.js ***!
  \***************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _encrypt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encrypt */ \"./src2/encrypt.js\");\n//request\r\nlet md5_util = __webpack_require__(/*! blueimp-md5 */ \"./node_modules/blueimp-md5/js/md5.js\")\r\n\r\nlet init = (messenger)=>{\r\n    var generateToken = ()=>{\r\n        var time = (Math.random()*1.7+'') +'-'+ 2.3 * (new Date())\r\n        return md5_util(time.replace(/\\./ig,''));\r\n    }\r\n    var _currentTarget = window.parent;\r\n    var _currentTargetHost = '*';\r\n    var _waitingPromiseMap = {};\r\n    var thisPageId = ''+generateToken();\r\n\r\n    messenger.getPageId= ()=>{\r\n            return thisPageId;\r\n        }\r\n    messenger.getTargetWindows= ()=>{\r\n            var iframelist = [];//[window.parent];\r\n            iframelist.push({\r\n                                is: 'self',\r\n                                from: 'self',//在对方看来，是self，parent，还是child\r\n                                win:window\r\n                            });\r\n            if(window !== window.parent) {\r\n                iframelist.push({\r\n                                    is: 'parent',\r\n                                    from: 'child',\r\n                                    win: window.parent\r\n                                });\r\n\r\n            }\r\n            var iframes = document.getElementsByTagName('iframe');\r\n            for(var i = 0; i < iframes.length; i++){\r\n                iframelist.push({\r\n                    is: 'child',\r\n                    from:'parent',\r\n                    win: iframes[i].contentWindow\r\n                })\r\n            }\r\n            return iframelist;\r\n        }\r\n        messenger.setTarget= function(target){\r\n            _currentTarget = target;\r\n            if(_currentTarget.contentWindow) _currentTarget = _currentTarget.contentWindow;\r\n            return messenger;\r\n        }\r\n        messenger.emit= function (){\r\n            var me = this;\r\n            var eventName = arguments[0];\r\n            eventName = md5_util(eventName)\r\n            var args = [];\r\n            for(var i = 1; i < arguments.length; i++){\r\n                args.push(arguments[i]);\r\n            }\r\n            var responseToken = ''+generateToken();\r\n            //console.warn('generateToken',responseToken.length)\r\n            var windows = me.getTargetWindows();\r\n            for(var i = 0; i < windows.length; i++){\r\n                var iframe = windows[i];\r\n                //console.log('sent-req:', eventName, responseToken, iframe)\r\n                var obj = {\r\n                    messengerjs:{\r\n                        args,//本次请求的参数\r\n                    }\r\n                };\r\n                obj.messengerjs = _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].encryptMessageData(obj.messengerjs, {\r\n                    eventName,//请求的名字\r\n                    isReq: true,//表明是request\r\n                    from: iframe.from,                    \r\n                    requestPageId: thisPageId, //发起请求的页面id\r\n                    responseToken,//本次请求的token，一次性\r\n                });\r\n                obj = JSON.parse(JSON.stringify(obj));\r\n                messenger.doPostMessage(iframe.win, obj, _currentTargetHost);\r\n            }\r\n            _waitingPromiseMap[responseToken] = {\r\n                receiveCount: 0\r\n            };\r\n            return {\r\n                onResponse: (cb)=>{\r\n                    _waitingPromiseMap[responseToken].cb = cb;\r\n                }\r\n            };\r\n        }\r\n    \r\n    var handleResponse = (data)=>{\r\n        //console.log('on msg', window.location.href, data)\r\n        var data = data.data;\r\n        if(!data || !data.messengerjs)return;\r\n        var status = _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].decryptMessageData(data.messengerjs)\r\n        var responseToken = _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].decodeStr(status.responseToken)\r\n        //if(data.messengerjs && data.messengerjs.isResp && _waitingPromiseMap[responseToken]){\r\n        if(data.messengerjs && data.messengerjs.info){\r\n            if(status.isResp && _waitingPromiseMap[responseToken]){\r\n                process(responseToken, data.messengerjs)\r\n            }\r\n        }\r\n    };\r\n    var process = (responseToken, data)=>{\r\n        var result = data.result;\r\n        //console.warn('got response', window.location.href, result)\r\n        let stopReceive = ()=>{\r\n            delete _waitingPromiseMap[responseToken];\r\n        }\r\n        let count = ++_waitingPromiseMap[responseToken].receiveCount;\r\n        if(_waitingPromiseMap[responseToken].cb){\r\n            _waitingPromiseMap[responseToken].cb(result, {count: count, stopReceive: stopReceive});\r\n        }\r\n    };\r\n    if (window.addEventListener) {\r\n        window.addEventListener(\"message\", handleResponse);\r\n    } else if (window.attachEvent) {\r\n        window.attachEvent(\"onmessage\", handleResponse);\r\n    }\r\n    \r\n}\r\nlet requester={\r\n    init\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (requester);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMyL3JlcXVlc3Rlci5qcz9kNjU5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBLGVBQWUsbUJBQU8sQ0FBQyx5REFBYTtBQUNKO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDOztBQUVqQztBQUNBO0FBQ0EsMEJBQTBCLG9CQUFvQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzQkFBc0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixvQkFBb0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0RBQU87QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0RBQU87QUFDNUIsNEJBQTRCLGdEQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCx1Q0FBdUM7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLHdFQUFTLEVBQUMiLCJmaWxlIjoiLi9zcmMyL3JlcXVlc3Rlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vcmVxdWVzdFxyXG5sZXQgbWQ1X3V0aWwgPSByZXF1aXJlKCdibHVlaW1wLW1kNScpXHJcbmltcG9ydCBlbmNyeXB0IGZyb20gJy4vZW5jcnlwdCc7XHJcbmxldCBpbml0ID0gKG1lc3Nlbmdlcik9PntcclxuICAgIHZhciBnZW5lcmF0ZVRva2VuID0gKCk9PntcclxuICAgICAgICB2YXIgdGltZSA9IChNYXRoLnJhbmRvbSgpKjEuNysnJykgKyctJysgMi4zICogKG5ldyBEYXRlKCkpXHJcbiAgICAgICAgcmV0dXJuIG1kNV91dGlsKHRpbWUucmVwbGFjZSgvXFwuL2lnLCcnKSk7XHJcbiAgICB9XHJcbiAgICB2YXIgX2N1cnJlbnRUYXJnZXQgPSB3aW5kb3cucGFyZW50O1xyXG4gICAgdmFyIF9jdXJyZW50VGFyZ2V0SG9zdCA9ICcqJztcclxuICAgIHZhciBfd2FpdGluZ1Byb21pc2VNYXAgPSB7fTtcclxuICAgIHZhciB0aGlzUGFnZUlkID0gJycrZ2VuZXJhdGVUb2tlbigpO1xyXG5cclxuICAgIG1lc3Nlbmdlci5nZXRQYWdlSWQ9ICgpPT57XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzUGFnZUlkO1xyXG4gICAgICAgIH1cclxuICAgIG1lc3Nlbmdlci5nZXRUYXJnZXRXaW5kb3dzPSAoKT0+e1xyXG4gICAgICAgICAgICB2YXIgaWZyYW1lbGlzdCA9IFtdOy8vW3dpbmRvdy5wYXJlbnRdO1xyXG4gICAgICAgICAgICBpZnJhbWVsaXN0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzOiAnc2VsZicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogJ3NlbGYnLC8v5Zyo5a+55pa555yL5p2l77yM5pivc2VsZu+8jHBhcmVudO+8jOi/mOaYr2NoaWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luOndpbmRvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmKHdpbmRvdyAhPT0gd2luZG93LnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWZyYW1lbGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXM6ICdwYXJlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAnY2hpbGQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW46IHdpbmRvdy5wYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGlmcmFtZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaWZyYW1lJyk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBpZnJhbWVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmcmFtZWxpc3QucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXM6ICdjaGlsZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbToncGFyZW50JyxcclxuICAgICAgICAgICAgICAgICAgICB3aW46IGlmcmFtZXNbaV0uY29udGVudFdpbmRvd1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaWZyYW1lbGlzdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWVzc2VuZ2VyLnNldFRhcmdldD0gZnVuY3Rpb24odGFyZ2V0KXtcclxuICAgICAgICAgICAgX2N1cnJlbnRUYXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmKF9jdXJyZW50VGFyZ2V0LmNvbnRlbnRXaW5kb3cpIF9jdXJyZW50VGFyZ2V0ID0gX2N1cnJlbnRUYXJnZXQuY29udGVudFdpbmRvdztcclxuICAgICAgICAgICAgcmV0dXJuIG1lc3NlbmdlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWVzc2VuZ2VyLmVtaXQ9IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gYXJndW1lbnRzWzBdO1xyXG4gICAgICAgICAgICBldmVudE5hbWUgPSBtZDVfdXRpbChldmVudE5hbWUpXHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJlc3BvbnNlVG9rZW4gPSAnJytnZW5lcmF0ZVRva2VuKCk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS53YXJuKCdnZW5lcmF0ZVRva2VuJyxyZXNwb25zZVRva2VuLmxlbmd0aClcclxuICAgICAgICAgICAgdmFyIHdpbmRvd3MgPSBtZS5nZXRUYXJnZXRXaW5kb3dzKCk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB3aW5kb3dzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBpZnJhbWUgPSB3aW5kb3dzW2ldO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnc2VudC1yZXE6JywgZXZlbnROYW1lLCByZXNwb25zZVRva2VuLCBpZnJhbWUpXHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NlbmdlcmpzOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncywvL+acrOasoeivt+axgueahOWPguaVsFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBvYmoubWVzc2VuZ2VyanMgPSBlbmNyeXB0LmVuY3J5cHRNZXNzYWdlRGF0YShvYmoubWVzc2VuZ2VyanMsIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUsLy/or7fmsYLnmoTlkI3lrZdcclxuICAgICAgICAgICAgICAgICAgICBpc1JlcTogdHJ1ZSwvL+ihqOaYjuaYr3JlcXVlc3RcclxuICAgICAgICAgICAgICAgICAgICBmcm9tOiBpZnJhbWUuZnJvbSwgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RQYWdlSWQ6IHRoaXNQYWdlSWQsIC8v5Y+R6LW36K+35rGC55qE6aG16Z2iaWRcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVRva2VuLC8v5pys5qyh6K+35rGC55qEdG9rZW7vvIzkuIDmrKHmgKdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcclxuICAgICAgICAgICAgICAgIG1lc3Nlbmdlci5kb1Bvc3RNZXNzYWdlKGlmcmFtZS53aW4sIG9iaiwgX2N1cnJlbnRUYXJnZXRIb3N0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfd2FpdGluZ1Byb21pc2VNYXBbcmVzcG9uc2VUb2tlbl0gPSB7XHJcbiAgICAgICAgICAgICAgICByZWNlaXZlQ291bnQ6IDBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG9uUmVzcG9uc2U6IChjYik9PntcclxuICAgICAgICAgICAgICAgICAgICBfd2FpdGluZ1Byb21pc2VNYXBbcmVzcG9uc2VUb2tlbl0uY2IgPSBjYjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIHZhciBoYW5kbGVSZXNwb25zZSA9IChkYXRhKT0+e1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ29uIG1zZycsIHdpbmRvdy5sb2NhdGlvbi5ocmVmLCBkYXRhKVxyXG4gICAgICAgIHZhciBkYXRhID0gZGF0YS5kYXRhO1xyXG4gICAgICAgIGlmKCFkYXRhIHx8ICFkYXRhLm1lc3NlbmdlcmpzKXJldHVybjtcclxuICAgICAgICB2YXIgc3RhdHVzID0gZW5jcnlwdC5kZWNyeXB0TWVzc2FnZURhdGEoZGF0YS5tZXNzZW5nZXJqcylcclxuICAgICAgICB2YXIgcmVzcG9uc2VUb2tlbiA9IGVuY3J5cHQuZGVjb2RlU3RyKHN0YXR1cy5yZXNwb25zZVRva2VuKVxyXG4gICAgICAgIC8vaWYoZGF0YS5tZXNzZW5nZXJqcyAmJiBkYXRhLm1lc3NlbmdlcmpzLmlzUmVzcCAmJiBfd2FpdGluZ1Byb21pc2VNYXBbcmVzcG9uc2VUb2tlbl0pe1xyXG4gICAgICAgIGlmKGRhdGEubWVzc2VuZ2VyanMgJiYgZGF0YS5tZXNzZW5nZXJqcy5pbmZvKXtcclxuICAgICAgICAgICAgaWYoc3RhdHVzLmlzUmVzcCAmJiBfd2FpdGluZ1Byb21pc2VNYXBbcmVzcG9uc2VUb2tlbl0pe1xyXG4gICAgICAgICAgICAgICAgcHJvY2VzcyhyZXNwb25zZVRva2VuLCBkYXRhLm1lc3NlbmdlcmpzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBwcm9jZXNzID0gKHJlc3BvbnNlVG9rZW4sIGRhdGEpPT57XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGEucmVzdWx0O1xyXG4gICAgICAgIC8vY29uc29sZS53YXJuKCdnb3QgcmVzcG9uc2UnLCB3aW5kb3cubG9jYXRpb24uaHJlZiwgcmVzdWx0KVxyXG4gICAgICAgIGxldCBzdG9wUmVjZWl2ZSA9ICgpPT57XHJcbiAgICAgICAgICAgIGRlbGV0ZSBfd2FpdGluZ1Byb21pc2VNYXBbcmVzcG9uc2VUb2tlbl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjb3VudCA9ICsrX3dhaXRpbmdQcm9taXNlTWFwW3Jlc3BvbnNlVG9rZW5dLnJlY2VpdmVDb3VudDtcclxuICAgICAgICBpZihfd2FpdGluZ1Byb21pc2VNYXBbcmVzcG9uc2VUb2tlbl0uY2Ipe1xyXG4gICAgICAgICAgICBfd2FpdGluZ1Byb21pc2VNYXBbcmVzcG9uc2VUb2tlbl0uY2IocmVzdWx0LCB7Y291bnQ6IGNvdW50LCBzdG9wUmVjZWl2ZTogc3RvcFJlY2VpdmV9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGhhbmRsZVJlc3BvbnNlKTtcclxuICAgIH0gZWxzZSBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7XHJcbiAgICAgICAgd2luZG93LmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIGhhbmRsZVJlc3BvbnNlKTtcclxuICAgIH1cclxuICAgIFxyXG59XHJcbmxldCByZXF1ZXN0ZXI9e1xyXG4gICAgaW5pdFxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHJlcXVlc3RlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src2/requester.js\n")},0:
/*!****************************!*\
  !*** multi ./src2/main.js ***!
  \****************************/
/*! no static exports found */function(g,I,n){g.exports=n(/*! ./src2/main.js */"./src2/main.js")}});