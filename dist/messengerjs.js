/*!
 *  
 *  Messenger.js 
 *  v0.9.2
 *  The MIT License (MIT)
 *  Copyright (c) 2013-2018 ZhangLei (zhanglei923@gmail.com)
 *  https://github.com/zhanglei923/messenger.js
 * 
 */!function(n){var C={};function c(g){if(C[g])return C[g].exports;var I=C[g]={i:g,l:!1,exports:{}};return n[g].call(I.exports,I,I.exports,c),I.l=!0,I.exports}c.m=n,c.c=C,c.d=function(g,I,n){c.o(g,I)||Object.defineProperty(g,I,{enumerable:!0,get:n})},c.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},c.t=function(I,g){if(1&g&&(I=c(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var C in I)c.d(n,C,function(g){return I[g]}.bind(null,C));return n},c.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return c.d(I,"a",I),I},c.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},c.p="",c(c.s=0)}({"./node_modules/blueimp-md5/js/md5.js":
/*!********************************************!*\
  !*** ./node_modules/blueimp-md5/js/md5.js ***!
  \********************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n;(function ($) {\n  'use strict'\n\n  /*\n  * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n  * to work around bugs in some JS interpreters.\n  */\n  function safeAdd (x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /*\n  * Bitwise rotate a 32-bit number to the left.\n  */\n  function bitRotateLeft (num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /*\n  * These functions implement the four basic operations the algorithm uses.\n  */\n  function md5cmn (q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  function md5ff (a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  function md5gg (a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  function md5hh (a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  function md5ii (a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /*\n  * Calculate the MD5 of an array of little-endian words, and a bit length.\n  */\n  function binlMD5 (x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << (len % 32)\n    x[((len + 64) >>> 9 << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /*\n  * Convert an array of little-endian words to a string\n  */\n  function binl2rstr (input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xff)\n    }\n    return output\n  }\n\n  /*\n  * Convert a raw string to an array of little-endian words\n  * Characters >255 have their high-byte silently ignored.\n  */\n  function rstr2binl (input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << (i % 32)\n    }\n    return output\n  }\n\n  /*\n  * Calculate the MD5 of a raw string\n  */\n  function rstrMD5 (s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /*\n  * Calculate the HMAC-MD5, of a key and some data (raw strings)\n  */\n  function rstrHMACMD5 (key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /*\n  * Convert a raw string to a hex string\n  */\n  function rstr2hex (input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /*\n  * Encode a string as utf-8\n  */\n  function str2rstrUTF8 (input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /*\n  * Take string arguments and return either raw or hex encoded strings\n  */\n  function rawMD5 (s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  function hexMD5 (s) {\n    return rstr2hex(rawMD5(s))\n  }\n  function rawHMACMD5 (k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  function hexHMACMD5 (k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  function md5 (string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n      return md5\n    }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n  } else {}\n})(this)\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmx1ZWltcC1tZDUvanMvbWQ1LmpzPzhkODEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFtQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrQkFBa0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLElBQTBDO0FBQ2hELElBQUksbUNBQU87QUFDWDtBQUNBLEtBQUs7QUFBQSxvR0FBQztBQUNOLEdBQUcsTUFBTSxFQUlOO0FBQ0gsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9ibHVlaW1wLW1kNS9qcy9tZDUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogSmF2YVNjcmlwdCBNRDVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtTUQ1XG4gKlxuICogQ29weXJpZ2h0IDIwMTEsIFNlYmFzdGlhbiBUc2NoYW5cbiAqIGh0dHBzOi8vYmx1ZWltcC5uZXRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqIEJhc2VkIG9uXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFJTQSBEYXRhIFNlY3VyaXR5LCBJbmMuIE1ENSBNZXNzYWdlXG4gKiBEaWdlc3QgQWxnb3JpdGhtLCBhcyBkZWZpbmVkIGluIFJGQyAxMzIxLlxuICogVmVyc2lvbiAyLjIgQ29weXJpZ2h0IChDKSBQYXVsIEpvaG5zdG9uIDE5OTkgLSAyMDA5XG4gKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2VcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uXG4gKi9cblxuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG47KGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0J1xuXG4gIC8qXG4gICogQWRkIGludGVnZXJzLCB3cmFwcGluZyBhdCAyXjMyLiBUaGlzIHVzZXMgMTYtYml0IG9wZXJhdGlvbnMgaW50ZXJuYWxseVxuICAqIHRvIHdvcmsgYXJvdW5kIGJ1Z3MgaW4gc29tZSBKUyBpbnRlcnByZXRlcnMuXG4gICovXG4gIGZ1bmN0aW9uIHNhZmVBZGQgKHgsIHkpIHtcbiAgICB2YXIgbHN3ID0gKHggJiAweGZmZmYpICsgKHkgJiAweGZmZmYpXG4gICAgdmFyIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpXG4gICAgcmV0dXJuIChtc3cgPDwgMTYpIHwgKGxzdyAmIDB4ZmZmZilcbiAgfVxuXG4gIC8qXG4gICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxuICAqL1xuICBmdW5jdGlvbiBiaXRSb3RhdGVMZWZ0IChudW0sIGNudCkge1xuICAgIHJldHVybiAobnVtIDw8IGNudCkgfCAobnVtID4+PiAoMzIgLSBjbnQpKVxuICB9XG5cbiAgLypcbiAgKiBUaGVzZSBmdW5jdGlvbnMgaW1wbGVtZW50IHRoZSBmb3VyIGJhc2ljIG9wZXJhdGlvbnMgdGhlIGFsZ29yaXRobSB1c2VzLlxuICAqL1xuICBmdW5jdGlvbiBtZDVjbW4gKHEsIGEsIGIsIHgsIHMsIHQpIHtcbiAgICByZXR1cm4gc2FmZUFkZChiaXRSb3RhdGVMZWZ0KHNhZmVBZGQoc2FmZUFkZChhLCBxKSwgc2FmZUFkZCh4LCB0KSksIHMpLCBiKVxuICB9XG4gIGZ1bmN0aW9uIG1kNWZmIChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gICAgcmV0dXJuIG1kNWNtbigoYiAmIGMpIHwgKH5iICYgZCksIGEsIGIsIHgsIHMsIHQpXG4gIH1cbiAgZnVuY3Rpb24gbWQ1Z2cgKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgICByZXR1cm4gbWQ1Y21uKChiICYgZCkgfCAoYyAmIH5kKSwgYSwgYiwgeCwgcywgdClcbiAgfVxuICBmdW5jdGlvbiBtZDVoaCAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICAgIHJldHVybiBtZDVjbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KVxuICB9XG4gIGZ1bmN0aW9uIG1kNWlpIChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gICAgcmV0dXJuIG1kNWNtbihjIF4gKGIgfCB+ZCksIGEsIGIsIHgsIHMsIHQpXG4gIH1cblxuICAvKlxuICAqIENhbGN1bGF0ZSB0aGUgTUQ1IG9mIGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMsIGFuZCBhIGJpdCBsZW5ndGguXG4gICovXG4gIGZ1bmN0aW9uIGJpbmxNRDUgKHgsIGxlbikge1xuICAgIC8qIGFwcGVuZCBwYWRkaW5nICovXG4gICAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCAobGVuICUgMzIpXG4gICAgeFsoKGxlbiArIDY0KSA+Pj4gOSA8PCA0KSArIDE0XSA9IGxlblxuXG4gICAgdmFyIGlcbiAgICB2YXIgb2xkYVxuICAgIHZhciBvbGRiXG4gICAgdmFyIG9sZGNcbiAgICB2YXIgb2xkZFxuICAgIHZhciBhID0gMTczMjU4NDE5M1xuICAgIHZhciBiID0gLTI3MTczMzg3OVxuICAgIHZhciBjID0gLTE3MzI1ODQxOTRcbiAgICB2YXIgZCA9IDI3MTczMzg3OFxuXG4gICAgZm9yIChpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDE2KSB7XG4gICAgICBvbGRhID0gYVxuICAgICAgb2xkYiA9IGJcbiAgICAgIG9sZGMgPSBjXG4gICAgICBvbGRkID0gZFxuXG4gICAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpXSwgNywgLTY4MDg3NjkzNilcbiAgICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxXSwgMTIsIC0zODk1NjQ1ODYpXG4gICAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMl0sIDE3LCA2MDYxMDU4MTkpXG4gICAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgM10sIDIyLCAtMTA0NDUyNTMzMClcbiAgICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNywgLTE3NjQxODg5NylcbiAgICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA1XSwgMTIsIDEyMDAwODA0MjYpXG4gICAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSlcbiAgICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyA3XSwgMjIsIC00NTcwNTk4MylcbiAgICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA4XSwgNywgMTc3MDAzNTQxNilcbiAgICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA5XSwgMTIsIC0xOTU4NDE0NDE3KVxuICAgICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTcsIC00MjA2MylcbiAgICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAxMV0sIDIyLCAtMTk5MDQwNDE2MilcbiAgICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDcsIDE4MDQ2MDM2ODIpXG4gICAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgMTNdLCAxMiwgLTQwMzQxMTAxKVxuICAgICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTcsIC0xNTAyMDAyMjkwKVxuICAgICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDE1XSwgMjIsIDEyMzY1MzUzMjkpXG5cbiAgICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNSwgLTE2NTc5NjUxMClcbiAgICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyA2XSwgOSwgLTEwNjk1MDE2MzIpXG4gICAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNCwgNjQzNzE3NzEzKVxuICAgICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaV0sIDIwLCAtMzczODk3MzAyKVxuICAgICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA1LCAtNzAxNTU4NjkxKVxuICAgICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDEwXSwgOSwgMzgwMTYwODMpXG4gICAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSlcbiAgICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA0XSwgMjAsIC00MDU1Mzc4NDgpXG4gICAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgOV0sIDUsIDU2ODQ0NjQzOClcbiAgICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxNF0sIDksIC0xMDE5ODAzNjkwKVxuICAgICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDNdLCAxNCwgLTE4NzM2Mzk2MSlcbiAgICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA4XSwgMjAsIDExNjM1MzE1MDEpXG4gICAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMTNdLCA1LCAtMTQ0NDY4MTQ2NylcbiAgICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAyXSwgOSwgLTUxNDAzNzg0KVxuICAgICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDddLCAxNCwgMTczNTMyODQ3MylcbiAgICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyAxMl0sIDIwLCAtMTkyNjYwNzczNClcblxuICAgICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA0LCAtMzc4NTU4KVxuICAgICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDhdLCAxMSwgLTIwMjI1NzQ0NjMpXG4gICAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNiwgMTgzOTAzMDU2MilcbiAgICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxNF0sIDIzLCAtMzUzMDk1NTYpXG4gICAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMV0sIDQsIC0xNTMwOTkyMDYwKVxuICAgICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDRdLCAxMSwgMTI3Mjg5MzM1MylcbiAgICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTYsIC0xNTU0OTc2MzIpXG4gICAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMTBdLCAyMywgLTEwOTQ3MzA2NDApXG4gICAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMTNdLCA0LCA2ODEyNzkxNzQpXG4gICAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpXSwgMTEsIC0zNTg1MzcyMjIpXG4gICAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgM10sIDE2LCAtNzIyNTIxOTc5KVxuICAgICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDZdLCAyMywgNzYwMjkxODkpXG4gICAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgOV0sIDQsIC02NDAzNjQ0ODcpXG4gICAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgMTJdLCAxMSwgLTQyMTgxNTgzNSlcbiAgICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAxNV0sIDE2LCA1MzA3NDI1MjApXG4gICAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMl0sIDIzLCAtOTk1MzM4NjUxKVxuXG4gICAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpXSwgNiwgLTE5ODYzMDg0NClcbiAgICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyA3XSwgMTAsIDExMjY4OTE0MTUpXG4gICAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTRdLCAxNSwgLTE0MTYzNTQ5MDUpXG4gICAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgNV0sIDIxLCAtNTc0MzQwNTUpXG4gICAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA2LCAxNzAwNDg1NTcxKVxuICAgICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDNdLCAxMCwgLTE4OTQ5ODY2MDYpXG4gICAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNSwgLTEwNTE1MjMpXG4gICAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMV0sIDIxLCAtMjA1NDkyMjc5OSlcbiAgICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyA4XSwgNiwgMTg3MzMxMzM1OSlcbiAgICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxNV0sIDEwLCAtMzA2MTE3NDQpXG4gICAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE1LCAtMTU2MDE5ODM4MClcbiAgICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxM10sIDIxLCAxMzA5MTUxNjQ5KVxuICAgICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA2LCAtMTQ1NTIzMDcwKVxuICAgICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDExXSwgMTAsIC0xMTIwMjEwMzc5KVxuICAgICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNSwgNzE4Nzg3MjU5KVxuICAgICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDldLCAyMSwgLTM0MzQ4NTU1MSlcblxuICAgICAgYSA9IHNhZmVBZGQoYSwgb2xkYSlcbiAgICAgIGIgPSBzYWZlQWRkKGIsIG9sZGIpXG4gICAgICBjID0gc2FmZUFkZChjLCBvbGRjKVxuICAgICAgZCA9IHNhZmVBZGQoZCwgb2xkZClcbiAgICB9XG4gICAgcmV0dXJuIFthLCBiLCBjLCBkXVxuICB9XG5cbiAgLypcbiAgKiBDb252ZXJ0IGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMgdG8gYSBzdHJpbmdcbiAgKi9cbiAgZnVuY3Rpb24gYmlubDJyc3RyIChpbnB1dCkge1xuICAgIHZhciBpXG4gICAgdmFyIG91dHB1dCA9ICcnXG4gICAgdmFyIGxlbmd0aDMyID0gaW5wdXQubGVuZ3RoICogMzJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoMzI7IGkgKz0gOCkge1xuICAgICAgb3V0cHV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGlucHV0W2kgPj4gNV0gPj4+IChpICUgMzIpKSAmIDB4ZmYpXG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRcbiAgfVxuXG4gIC8qXG4gICogQ29udmVydCBhIHJhdyBzdHJpbmcgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xuICAqIENoYXJhY3RlcnMgPjI1NSBoYXZlIHRoZWlyIGhpZ2gtYnl0ZSBzaWxlbnRseSBpZ25vcmVkLlxuICAqL1xuICBmdW5jdGlvbiByc3RyMmJpbmwgKGlucHV0KSB7XG4gICAgdmFyIGlcbiAgICB2YXIgb3V0cHV0ID0gW11cbiAgICBvdXRwdXRbKGlucHV0Lmxlbmd0aCA+PiAyKSAtIDFdID0gdW5kZWZpbmVkXG4gICAgZm9yIChpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgb3V0cHV0W2ldID0gMFxuICAgIH1cbiAgICB2YXIgbGVuZ3RoOCA9IGlucHV0Lmxlbmd0aCAqIDhcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoODsgaSArPSA4KSB7XG4gICAgICBvdXRwdXRbaSA+PiA1XSB8PSAoaW5wdXQuY2hhckNvZGVBdChpIC8gOCkgJiAweGZmKSA8PCAoaSAlIDMyKVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0XG4gIH1cblxuICAvKlxuICAqIENhbGN1bGF0ZSB0aGUgTUQ1IG9mIGEgcmF3IHN0cmluZ1xuICAqL1xuICBmdW5jdGlvbiByc3RyTUQ1IChzKSB7XG4gICAgcmV0dXJuIGJpbmwycnN0cihiaW5sTUQ1KHJzdHIyYmlubChzKSwgcy5sZW5ndGggKiA4KSlcbiAgfVxuXG4gIC8qXG4gICogQ2FsY3VsYXRlIHRoZSBITUFDLU1ENSwgb2YgYSBrZXkgYW5kIHNvbWUgZGF0YSAocmF3IHN0cmluZ3MpXG4gICovXG4gIGZ1bmN0aW9uIHJzdHJITUFDTUQ1IChrZXksIGRhdGEpIHtcbiAgICB2YXIgaVxuICAgIHZhciBia2V5ID0gcnN0cjJiaW5sKGtleSlcbiAgICB2YXIgaXBhZCA9IFtdXG4gICAgdmFyIG9wYWQgPSBbXVxuICAgIHZhciBoYXNoXG4gICAgaXBhZFsxNV0gPSBvcGFkWzE1XSA9IHVuZGVmaW5lZFxuICAgIGlmIChia2V5Lmxlbmd0aCA+IDE2KSB7XG4gICAgICBia2V5ID0gYmlubE1ENShia2V5LCBrZXkubGVuZ3RoICogOClcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IDE2OyBpICs9IDEpIHtcbiAgICAgIGlwYWRbaV0gPSBia2V5W2ldIF4gMHgzNjM2MzYzNlxuICAgICAgb3BhZFtpXSA9IGJrZXlbaV0gXiAweDVjNWM1YzVjXG4gICAgfVxuICAgIGhhc2ggPSBiaW5sTUQ1KGlwYWQuY29uY2F0KHJzdHIyYmlubChkYXRhKSksIDUxMiArIGRhdGEubGVuZ3RoICogOClcbiAgICByZXR1cm4gYmlubDJyc3RyKGJpbmxNRDUob3BhZC5jb25jYXQoaGFzaCksIDUxMiArIDEyOCkpXG4gIH1cblxuICAvKlxuICAqIENvbnZlcnQgYSByYXcgc3RyaW5nIHRvIGEgaGV4IHN0cmluZ1xuICAqL1xuICBmdW5jdGlvbiByc3RyMmhleCAoaW5wdXQpIHtcbiAgICB2YXIgaGV4VGFiID0gJzAxMjM0NTY3ODlhYmNkZWYnXG4gICAgdmFyIG91dHB1dCA9ICcnXG4gICAgdmFyIHhcbiAgICB2YXIgaVxuICAgIGZvciAoaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgeCA9IGlucHV0LmNoYXJDb2RlQXQoaSlcbiAgICAgIG91dHB1dCArPSBoZXhUYWIuY2hhckF0KCh4ID4+PiA0KSAmIDB4MGYpICsgaGV4VGFiLmNoYXJBdCh4ICYgMHgwZilcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dFxuICB9XG5cbiAgLypcbiAgKiBFbmNvZGUgYSBzdHJpbmcgYXMgdXRmLThcbiAgKi9cbiAgZnVuY3Rpb24gc3RyMnJzdHJVVEY4IChpbnB1dCkge1xuICAgIHJldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoaW5wdXQpKVxuICB9XG5cbiAgLypcbiAgKiBUYWtlIHN0cmluZyBhcmd1bWVudHMgYW5kIHJldHVybiBlaXRoZXIgcmF3IG9yIGhleCBlbmNvZGVkIHN0cmluZ3NcbiAgKi9cbiAgZnVuY3Rpb24gcmF3TUQ1IChzKSB7XG4gICAgcmV0dXJuIHJzdHJNRDUoc3RyMnJzdHJVVEY4KHMpKVxuICB9XG4gIGZ1bmN0aW9uIGhleE1ENSAocykge1xuICAgIHJldHVybiByc3RyMmhleChyYXdNRDUocykpXG4gIH1cbiAgZnVuY3Rpb24gcmF3SE1BQ01ENSAoaywgZCkge1xuICAgIHJldHVybiByc3RySE1BQ01ENShzdHIycnN0clVURjgoayksIHN0cjJyc3RyVVRGOChkKSlcbiAgfVxuICBmdW5jdGlvbiBoZXhITUFDTUQ1IChrLCBkKSB7XG4gICAgcmV0dXJuIHJzdHIyaGV4KHJhd0hNQUNNRDUoaywgZCkpXG4gIH1cblxuICBmdW5jdGlvbiBtZDUgKHN0cmluZywga2V5LCByYXcpIHtcbiAgICBpZiAoIWtleSkge1xuICAgICAgaWYgKCFyYXcpIHtcbiAgICAgICAgcmV0dXJuIGhleE1ENShzdHJpbmcpXG4gICAgICB9XG4gICAgICByZXR1cm4gcmF3TUQ1KHN0cmluZylcbiAgICB9XG4gICAgaWYgKCFyYXcpIHtcbiAgICAgIHJldHVybiBoZXhITUFDTUQ1KGtleSwgc3RyaW5nKVxuICAgIH1cbiAgICByZXR1cm4gcmF3SE1BQ01ENShrZXksIHN0cmluZylcbiAgfVxuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG1kNVxuICAgIH0pXG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IG1kNVxuICB9IGVsc2Uge1xuICAgICQubWQ1ID0gbWQ1XG4gIH1cbn0pKHRoaXMpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/blueimp-md5/js/md5.js\n")},"./src/encrypt.js":
/*!************************!*\
  !*** ./src/encrypt.js ***!
  \************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\nlet encrypt = {};\r\n    (()=>{\r\n    let md5_util = __webpack_require__(/*! blueimp-md5 */ \"./node_modules/blueimp-md5/js/md5.js\")\r\n    function encodeStr (str){\r\n        let len = str.length / 2\r\n        let str1 = str.substring(0, len)\r\n        let str2 = str.substring(len)\r\n        //console.log('before:', str, (str === (str1+str2)) )\r\n        let arr1 = str1.split('').reverse();\r\n        let arr2 = str2.split('').reverse();\r\n        let arr = [].concat(arr1).concat(arr2)\r\n        let impurities = (md5_util(''+Math.random()+(new Date()))+md5_util(''+Math.random()+(new Date()))).split('')\r\n        let impurities2 = (md5_util(''+Math.random()+(new Date()))+md5_util(''+Math.random()+(new Date()))).split('')\r\n        let newarr = []\r\n        for(var i = 0; i< arr.length; i++){\r\n            newarr.push(makeRandomAlphabet() + arr[i] + makeRandomAlphabet());\r\n        }\r\n        let newstr = newarr.join('')\r\n        return newstr;\r\n    }\r\n    function decodeStr (encoded){\r\n        let arr = encoded.split('').reverse();\r\n        let char = 1;\r\n        let str = ''\r\n        while(char){\r\n            //console.log(char)\r\n            arr.shift();\r\n            char = arr.shift();\r\n            if(char)str += char;\r\n            arr.shift();\r\n        }\r\n        let len = str.length / 2\r\n        let str1 = str.substring(0, len)\r\n        let str2 = str.substring(len)\r\n        let arr1 = str1.split('');\r\n        let arr2 = str2.split('');\r\n        str = arr2.join('') + arr1.join('') \r\n        return str;\r\n    }\r\n    function makeRandomAlphabet(capitalize) {\r\n        var text = \"\";\r\n        var alphabets = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n        var alphabetsUpper = alphabets.toUpperCase();\r\n        var alphabetsLower = alphabets.toLowerCase();\r\n        var possible = alphabetsUpper+alphabetsLower;\r\n        if(typeof capitalize !== 'undefined' && capitalize === 'upper') possible = alphabetsUpper;\r\n        if(typeof capitalize !== 'undefined' && capitalize === 'lower') possible = alphabetsLower;\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n        return text;\r\n    };\r\n    function makeRandomNumber() {\r\n        var text = \"\";\r\n        var possible = \"0123456789\";\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n        return text;\r\n    };\r\n    //console.warn('random-alphabet', makeRandomAlphabet(), makeRandomAlphabet('upper'), makeRandomAlphabet('lower'), makeRandomNumber());\r\n    function makeRespCode(){\r\n        return  makeRandomAlphabet()\r\n    }\r\n    function isRespCode(info){\r\n        var letter = info.substring(0,1)\r\n        return  /\\b[a-zA-Z]\\b/.test(letter)\r\n    }\r\n    function makeReqCode(){\r\n        return  makeRandomNumber()\r\n    }\r\n    function isReqCode(info){\r\n        var letter = info.substring(0,1)\r\n        return  /\\b[0-9]\\b/.test(letter)\r\n    }\r\n    function encryptFromCode(desc, from){\r\n        if(from === 'self') return 0;\r\n        if(from === 'child') return 1;\r\n        if(from === 'parent') return 2;\r\n    }\r\n    function decryptFromCode(desc, info){\r\n        var letter = info.substring(1,2)\r\n        if(letter === '0') return 'self';\r\n        if(letter === '1') return 'child';\r\n        if(letter === '2') return 'parent';\r\n    }\r\n    function encryptMessageData(data, status){\r\n        var isResp = status.isResp;\r\n        var isReq = status.isReq;\r\n        //req & resp\r\n        if(status.isResp){\r\n            var isResp = makeRespCode();//英文字母代表是response\r\n            data.info = `${isResp}`;\r\n        }\r\n        if(status.isReq){\r\n            var isReq = makeReqCode();//表明是request\r\n            data.info = `${isReq}`;\r\n        }\r\n        //from\r\n        var fromCode = encryptFromCode({isReq, isResp}, status.from)\r\n        data.info += fromCode;\r\n        //pageid\r\n        if(isReq) data.info += status.requestPageId;\r\n        if(isResp) data.info += status.responsePageId;\r\n        //tokens\r\n        let token = status.responseToken;\r\n        let tokenLength = token.length;\r\n        let tokenLengthMark;\r\n        if(tokenLength === 32) tokenLengthMark = 32;\r\n        if(tokenLength === 96) tokenLengthMark = 96;\r\n        if(tokenLength === 32) token = token + md5_util(Math.random()) + md5_util(Math.random())//补齐到96位\r\n        data.info += tokenLengthMark + token;\r\n        //eventName\r\n        var hasEventName = !!status.eventName;\r\n        var fakeEventName = md5_util(Math.random())\r\n        data.info += (hasEventName?'1':'0') + (hasEventName?status.eventName:fakeEventName)\r\n\r\n        //data.responseToken = status.responseToken\r\n\r\n        //console.warn('tokenLength', token, tokenLength)\r\n        data.info = encryptInfo(data.info);\r\n\r\n        return data;\r\n    }\r\n    function decryptMessageData(data){   \r\n        data.info = decryptInfo(data.info); \r\n        var isResp = isRespCode(data.info);\r\n        var isReq = isReqCode(data.info);\r\n        var status = {}\r\n        if(isResp){\r\n            status.isResp = true;\r\n        }\r\n        if(isReq){\r\n            status.isReq = true;\r\n        }\r\n        status.from = decryptFromCode({isReq, isResp}, data.info)\r\n        // 2+32+2+96\r\n        var currentInfoStr = data.info.substring(2)\r\n        //pageid\r\n        var pageid = currentInfoStr.substring(0, 32);currentInfoStr = currentInfoStr.substring(32)\r\n        if(isReq) status.requestPageId = pageid;\r\n        if(isResp) status.responsePageId = pageid;\r\n        //token\r\n        //console.warn(currentInfoStr.length)\r\n        var tokenLengthStr = currentInfoStr.substring(0, 2);currentInfoStr = currentInfoStr.substring(2)\r\n        var tokenLength = parseInt(tokenLengthStr)\r\n        var token = currentInfoStr.substring(0, 96);currentInfoStr = currentInfoStr.substring(96)\r\n        //console.warn('kk',currentInfoStr.length, tokenLength, token.length)\r\n        if(tokenLength === 32) token = token.substring(0, tokenLength)\r\n        status.responseToken = token;\r\n\r\n        //eventName\r\n        var has = currentInfoStr.substring(0, 1);currentInfoStr = currentInfoStr.substring(1)\r\n        var hasEventName = (has === '1'?true:false);\r\n        var eventName = currentInfoStr.substring(0, 32);currentInfoStr = currentInfoStr.substring(32)\r\n        //console.warn(has, hasEventName, eventName.length)\r\n\r\n        if(hasEventName){\r\n            status.eventName = eventName;\r\n        }\r\n        return status;\r\n    }\r\n    var SHOULD_DECRYPT_CODE = md5_util(new Date()+'');\r\n    let encryptInfo = (info)=>{\r\n        let arr = info.split('')\r\n        arr = arr.reverse();\r\n        var result = arr.join('')\r\n        result = result + 'z'//不是偶数，凑个偶数\r\n        result = encodeStr(result)//加密\r\n        result = SHOULD_DECRYPT_CODE + result;//HEAD\r\n        return result;\r\n    }\r\n\r\n    let decryptInfo = (info)=>{\r\n        if(info.indexOf(SHOULD_DECRYPT_CODE)!==0) return info;//如果只是转发就不必再次解密\r\n        info = info.substring(SHOULD_DECRYPT_CODE.length)//HEAD\r\n        info = decodeStr(info); //解密\r\n        info = info.substring(0, info.length-1)//去掉凑偶数的字符\r\n        let arr = info.split('')\r\n        arr = arr.reverse();\r\n        var result = arr.join('')\r\n        return result;\r\n    }\r\n    // var userinput = md5_util('12341234123');\r\n    // //userinput = '123abc'\r\n    // var encoded = encodeStr(userinput)\r\n    // var decoded = decodeStr(encoded);\r\n    // console.log('encoded:',encoded)\r\n    // console.log('dencoded:', decoded)\r\n    // console.log('userinput==dencoded:', userinput === decoded)\r\n    encrypt.encodeStr=encodeStr;\r\n    encrypt.decodeStr=decodeStr;\r\n    encrypt.encryptMessageData=encryptMessageData;\r\n    encrypt.decryptMessageData=decryptMessageData;\r\n})();\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (encrypt);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZW5jcnlwdC5qcz9lYTA3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBLG1CQUFtQixtQkFBTyxDQUFDLHlEQUFhO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsMkJBQTJCLE9BQU87QUFDbEM7QUFDQTtBQUNBLHNDQUFzQztBQUN0QywyQkFBMkIsTUFBTTtBQUNqQztBQUNBO0FBQ0Esd0NBQXdDLGNBQWM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0M7QUFDQSwyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxjQUFjO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQSx3REFBd0Q7QUFDeEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7O0FBRUE7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyxzRUFBTyxFQUFDIiwiZmlsZSI6Ii4vc3JjL2VuY3J5cHQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZW5jcnlwdCA9IHt9O1xyXG4gICAgKCgpPT57XHJcbiAgICBsZXQgbWQ1X3V0aWwgPSByZXF1aXJlKCdibHVlaW1wLW1kNScpXHJcbiAgICBmdW5jdGlvbiBlbmNvZGVTdHIgKHN0cil7XHJcbiAgICAgICAgbGV0IGxlbiA9IHN0ci5sZW5ndGggLyAyXHJcbiAgICAgICAgbGV0IHN0cjEgPSBzdHIuc3Vic3RyaW5nKDAsIGxlbilcclxuICAgICAgICBsZXQgc3RyMiA9IHN0ci5zdWJzdHJpbmcobGVuKVxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2JlZm9yZTonLCBzdHIsIChzdHIgPT09IChzdHIxK3N0cjIpKSApXHJcbiAgICAgICAgbGV0IGFycjEgPSBzdHIxLnNwbGl0KCcnKS5yZXZlcnNlKCk7XHJcbiAgICAgICAgbGV0IGFycjIgPSBzdHIyLnNwbGl0KCcnKS5yZXZlcnNlKCk7XHJcbiAgICAgICAgbGV0IGFyciA9IFtdLmNvbmNhdChhcnIxKS5jb25jYXQoYXJyMilcclxuICAgICAgICBsZXQgaW1wdXJpdGllcyA9IChtZDVfdXRpbCgnJytNYXRoLnJhbmRvbSgpKyhuZXcgRGF0ZSgpKSkrbWQ1X3V0aWwoJycrTWF0aC5yYW5kb20oKSsobmV3IERhdGUoKSkpKS5zcGxpdCgnJylcclxuICAgICAgICBsZXQgaW1wdXJpdGllczIgPSAobWQ1X3V0aWwoJycrTWF0aC5yYW5kb20oKSsobmV3IERhdGUoKSkpK21kNV91dGlsKCcnK01hdGgucmFuZG9tKCkrKG5ldyBEYXRlKCkpKSkuc3BsaXQoJycpXHJcbiAgICAgICAgbGV0IG5ld2FyciA9IFtdXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaTwgYXJyLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgbmV3YXJyLnB1c2gobWFrZVJhbmRvbUFscGhhYmV0KCkgKyBhcnJbaV0gKyBtYWtlUmFuZG9tQWxwaGFiZXQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBuZXdzdHIgPSBuZXdhcnIuam9pbignJylcclxuICAgICAgICByZXR1cm4gbmV3c3RyO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZGVjb2RlU3RyIChlbmNvZGVkKXtcclxuICAgICAgICBsZXQgYXJyID0gZW5jb2RlZC5zcGxpdCgnJykucmV2ZXJzZSgpO1xyXG4gICAgICAgIGxldCBjaGFyID0gMTtcclxuICAgICAgICBsZXQgc3RyID0gJydcclxuICAgICAgICB3aGlsZShjaGFyKXtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhjaGFyKVxyXG4gICAgICAgICAgICBhcnIuc2hpZnQoKTtcclxuICAgICAgICAgICAgY2hhciA9IGFyci5zaGlmdCgpO1xyXG4gICAgICAgICAgICBpZihjaGFyKXN0ciArPSBjaGFyO1xyXG4gICAgICAgICAgICBhcnIuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxlbiA9IHN0ci5sZW5ndGggLyAyXHJcbiAgICAgICAgbGV0IHN0cjEgPSBzdHIuc3Vic3RyaW5nKDAsIGxlbilcclxuICAgICAgICBsZXQgc3RyMiA9IHN0ci5zdWJzdHJpbmcobGVuKVxyXG4gICAgICAgIGxldCBhcnIxID0gc3RyMS5zcGxpdCgnJyk7XHJcbiAgICAgICAgbGV0IGFycjIgPSBzdHIyLnNwbGl0KCcnKTtcclxuICAgICAgICBzdHIgPSBhcnIyLmpvaW4oJycpICsgYXJyMS5qb2luKCcnKSBcclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gbWFrZVJhbmRvbUFscGhhYmV0KGNhcGl0YWxpemUpIHtcclxuICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgdmFyIGFscGhhYmV0cyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIjtcclxuICAgICAgICB2YXIgYWxwaGFiZXRzVXBwZXIgPSBhbHBoYWJldHMudG9VcHBlckNhc2UoKTtcclxuICAgICAgICB2YXIgYWxwaGFiZXRzTG93ZXIgPSBhbHBoYWJldHMudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICB2YXIgcG9zc2libGUgPSBhbHBoYWJldHNVcHBlcithbHBoYWJldHNMb3dlcjtcclxuICAgICAgICBpZih0eXBlb2YgY2FwaXRhbGl6ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FwaXRhbGl6ZSA9PT0gJ3VwcGVyJykgcG9zc2libGUgPSBhbHBoYWJldHNVcHBlcjtcclxuICAgICAgICBpZih0eXBlb2YgY2FwaXRhbGl6ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FwaXRhbGl6ZSA9PT0gJ2xvd2VyJykgcG9zc2libGUgPSBhbHBoYWJldHNMb3dlcjtcclxuICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcclxuICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiBtYWtlUmFuZG9tTnVtYmVyKCkge1xyXG4gICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcclxuICAgICAgICB2YXIgcG9zc2libGUgPSBcIjAxMjM0NTY3ODlcIjtcclxuICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcclxuICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgIH07XHJcbiAgICAvL2NvbnNvbGUud2FybigncmFuZG9tLWFscGhhYmV0JywgbWFrZVJhbmRvbUFscGhhYmV0KCksIG1ha2VSYW5kb21BbHBoYWJldCgndXBwZXInKSwgbWFrZVJhbmRvbUFscGhhYmV0KCdsb3dlcicpLCBtYWtlUmFuZG9tTnVtYmVyKCkpO1xyXG4gICAgZnVuY3Rpb24gbWFrZVJlc3BDb2RlKCl7XHJcbiAgICAgICAgcmV0dXJuICBtYWtlUmFuZG9tQWxwaGFiZXQoKVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNSZXNwQ29kZShpbmZvKXtcclxuICAgICAgICB2YXIgbGV0dGVyID0gaW5mby5zdWJzdHJpbmcoMCwxKVxyXG4gICAgICAgIHJldHVybiAgL1xcYlthLXpBLVpdXFxiLy50ZXN0KGxldHRlcilcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG1ha2VSZXFDb2RlKCl7XHJcbiAgICAgICAgcmV0dXJuICBtYWtlUmFuZG9tTnVtYmVyKClcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzUmVxQ29kZShpbmZvKXtcclxuICAgICAgICB2YXIgbGV0dGVyID0gaW5mby5zdWJzdHJpbmcoMCwxKVxyXG4gICAgICAgIHJldHVybiAgL1xcYlswLTldXFxiLy50ZXN0KGxldHRlcilcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGVuY3J5cHRGcm9tQ29kZShkZXNjLCBmcm9tKXtcclxuICAgICAgICBpZihmcm9tID09PSAnc2VsZicpIHJldHVybiAwO1xyXG4gICAgICAgIGlmKGZyb20gPT09ICdjaGlsZCcpIHJldHVybiAxO1xyXG4gICAgICAgIGlmKGZyb20gPT09ICdwYXJlbnQnKSByZXR1cm4gMjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRlY3J5cHRGcm9tQ29kZShkZXNjLCBpbmZvKXtcclxuICAgICAgICB2YXIgbGV0dGVyID0gaW5mby5zdWJzdHJpbmcoMSwyKVxyXG4gICAgICAgIGlmKGxldHRlciA9PT0gJzAnKSByZXR1cm4gJ3NlbGYnO1xyXG4gICAgICAgIGlmKGxldHRlciA9PT0gJzEnKSByZXR1cm4gJ2NoaWxkJztcclxuICAgICAgICBpZihsZXR0ZXIgPT09ICcyJykgcmV0dXJuICdwYXJlbnQnO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZW5jcnlwdE1lc3NhZ2VEYXRhKGRhdGEsIHN0YXR1cyl7XHJcbiAgICAgICAgdmFyIGlzUmVzcCA9IHN0YXR1cy5pc1Jlc3A7XHJcbiAgICAgICAgdmFyIGlzUmVxID0gc3RhdHVzLmlzUmVxO1xyXG4gICAgICAgIC8vcmVxICYgcmVzcFxyXG4gICAgICAgIGlmKHN0YXR1cy5pc1Jlc3Ape1xyXG4gICAgICAgICAgICB2YXIgaXNSZXNwID0gbWFrZVJlc3BDb2RlKCk7Ly/oi7HmloflrZfmr43ku6PooajmmK9yZXNwb25zZVxyXG4gICAgICAgICAgICBkYXRhLmluZm8gPSBgJHtpc1Jlc3B9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoc3RhdHVzLmlzUmVxKXtcclxuICAgICAgICAgICAgdmFyIGlzUmVxID0gbWFrZVJlcUNvZGUoKTsvL+ihqOaYjuaYr3JlcXVlc3RcclxuICAgICAgICAgICAgZGF0YS5pbmZvID0gYCR7aXNSZXF9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9mcm9tXHJcbiAgICAgICAgdmFyIGZyb21Db2RlID0gZW5jcnlwdEZyb21Db2RlKHtpc1JlcSwgaXNSZXNwfSwgc3RhdHVzLmZyb20pXHJcbiAgICAgICAgZGF0YS5pbmZvICs9IGZyb21Db2RlO1xyXG4gICAgICAgIC8vcGFnZWlkXHJcbiAgICAgICAgaWYoaXNSZXEpIGRhdGEuaW5mbyArPSBzdGF0dXMucmVxdWVzdFBhZ2VJZDtcclxuICAgICAgICBpZihpc1Jlc3ApIGRhdGEuaW5mbyArPSBzdGF0dXMucmVzcG9uc2VQYWdlSWQ7XHJcbiAgICAgICAgLy90b2tlbnNcclxuICAgICAgICBsZXQgdG9rZW4gPSBzdGF0dXMucmVzcG9uc2VUb2tlbjtcclxuICAgICAgICBsZXQgdG9rZW5MZW5ndGggPSB0b2tlbi5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHRva2VuTGVuZ3RoTWFyaztcclxuICAgICAgICBpZih0b2tlbkxlbmd0aCA9PT0gMzIpIHRva2VuTGVuZ3RoTWFyayA9IDMyO1xyXG4gICAgICAgIGlmKHRva2VuTGVuZ3RoID09PSA5NikgdG9rZW5MZW5ndGhNYXJrID0gOTY7XHJcbiAgICAgICAgaWYodG9rZW5MZW5ndGggPT09IDMyKSB0b2tlbiA9IHRva2VuICsgbWQ1X3V0aWwoTWF0aC5yYW5kb20oKSkgKyBtZDVfdXRpbChNYXRoLnJhbmRvbSgpKS8v6KGl6b2Q5YiwOTbkvY1cclxuICAgICAgICBkYXRhLmluZm8gKz0gdG9rZW5MZW5ndGhNYXJrICsgdG9rZW47XHJcbiAgICAgICAgLy9ldmVudE5hbWVcclxuICAgICAgICB2YXIgaGFzRXZlbnROYW1lID0gISFzdGF0dXMuZXZlbnROYW1lO1xyXG4gICAgICAgIHZhciBmYWtlRXZlbnROYW1lID0gbWQ1X3V0aWwoTWF0aC5yYW5kb20oKSlcclxuICAgICAgICBkYXRhLmluZm8gKz0gKGhhc0V2ZW50TmFtZT8nMSc6JzAnKSArIChoYXNFdmVudE5hbWU/c3RhdHVzLmV2ZW50TmFtZTpmYWtlRXZlbnROYW1lKVxyXG5cclxuICAgICAgICAvL2RhdGEucmVzcG9uc2VUb2tlbiA9IHN0YXR1cy5yZXNwb25zZVRva2VuXHJcblxyXG4gICAgICAgIC8vY29uc29sZS53YXJuKCd0b2tlbkxlbmd0aCcsIHRva2VuLCB0b2tlbkxlbmd0aClcclxuICAgICAgICBkYXRhLmluZm8gPSBlbmNyeXB0SW5mbyhkYXRhLmluZm8pO1xyXG5cclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRlY3J5cHRNZXNzYWdlRGF0YShkYXRhKXsgICBcclxuICAgICAgICBkYXRhLmluZm8gPSBkZWNyeXB0SW5mbyhkYXRhLmluZm8pOyBcclxuICAgICAgICB2YXIgaXNSZXNwID0gaXNSZXNwQ29kZShkYXRhLmluZm8pO1xyXG4gICAgICAgIHZhciBpc1JlcSA9IGlzUmVxQ29kZShkYXRhLmluZm8pO1xyXG4gICAgICAgIHZhciBzdGF0dXMgPSB7fVxyXG4gICAgICAgIGlmKGlzUmVzcCl7XHJcbiAgICAgICAgICAgIHN0YXR1cy5pc1Jlc3AgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpc1JlcSl7XHJcbiAgICAgICAgICAgIHN0YXR1cy5pc1JlcSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0YXR1cy5mcm9tID0gZGVjcnlwdEZyb21Db2RlKHtpc1JlcSwgaXNSZXNwfSwgZGF0YS5pbmZvKVxyXG4gICAgICAgIC8vIDIrMzIrMis5NlxyXG4gICAgICAgIHZhciBjdXJyZW50SW5mb1N0ciA9IGRhdGEuaW5mby5zdWJzdHJpbmcoMilcclxuICAgICAgICAvL3BhZ2VpZFxyXG4gICAgICAgIHZhciBwYWdlaWQgPSBjdXJyZW50SW5mb1N0ci5zdWJzdHJpbmcoMCwgMzIpO2N1cnJlbnRJbmZvU3RyID0gY3VycmVudEluZm9TdHIuc3Vic3RyaW5nKDMyKVxyXG4gICAgICAgIGlmKGlzUmVxKSBzdGF0dXMucmVxdWVzdFBhZ2VJZCA9IHBhZ2VpZDtcclxuICAgICAgICBpZihpc1Jlc3ApIHN0YXR1cy5yZXNwb25zZVBhZ2VJZCA9IHBhZ2VpZDtcclxuICAgICAgICAvL3Rva2VuXHJcbiAgICAgICAgLy9jb25zb2xlLndhcm4oY3VycmVudEluZm9TdHIubGVuZ3RoKVxyXG4gICAgICAgIHZhciB0b2tlbkxlbmd0aFN0ciA9IGN1cnJlbnRJbmZvU3RyLnN1YnN0cmluZygwLCAyKTtjdXJyZW50SW5mb1N0ciA9IGN1cnJlbnRJbmZvU3RyLnN1YnN0cmluZygyKVxyXG4gICAgICAgIHZhciB0b2tlbkxlbmd0aCA9IHBhcnNlSW50KHRva2VuTGVuZ3RoU3RyKVxyXG4gICAgICAgIHZhciB0b2tlbiA9IGN1cnJlbnRJbmZvU3RyLnN1YnN0cmluZygwLCA5Nik7Y3VycmVudEluZm9TdHIgPSBjdXJyZW50SW5mb1N0ci5zdWJzdHJpbmcoOTYpXHJcbiAgICAgICAgLy9jb25zb2xlLndhcm4oJ2trJyxjdXJyZW50SW5mb1N0ci5sZW5ndGgsIHRva2VuTGVuZ3RoLCB0b2tlbi5sZW5ndGgpXHJcbiAgICAgICAgaWYodG9rZW5MZW5ndGggPT09IDMyKSB0b2tlbiA9IHRva2VuLnN1YnN0cmluZygwLCB0b2tlbkxlbmd0aClcclxuICAgICAgICBzdGF0dXMucmVzcG9uc2VUb2tlbiA9IHRva2VuO1xyXG5cclxuICAgICAgICAvL2V2ZW50TmFtZVxyXG4gICAgICAgIHZhciBoYXMgPSBjdXJyZW50SW5mb1N0ci5zdWJzdHJpbmcoMCwgMSk7Y3VycmVudEluZm9TdHIgPSBjdXJyZW50SW5mb1N0ci5zdWJzdHJpbmcoMSlcclxuICAgICAgICB2YXIgaGFzRXZlbnROYW1lID0gKGhhcyA9PT0gJzEnP3RydWU6ZmFsc2UpO1xyXG4gICAgICAgIHZhciBldmVudE5hbWUgPSBjdXJyZW50SW5mb1N0ci5zdWJzdHJpbmcoMCwgMzIpO2N1cnJlbnRJbmZvU3RyID0gY3VycmVudEluZm9TdHIuc3Vic3RyaW5nKDMyKVxyXG4gICAgICAgIC8vY29uc29sZS53YXJuKGhhcywgaGFzRXZlbnROYW1lLCBldmVudE5hbWUubGVuZ3RoKVxyXG5cclxuICAgICAgICBpZihoYXNFdmVudE5hbWUpe1xyXG4gICAgICAgICAgICBzdGF0dXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RhdHVzO1xyXG4gICAgfVxyXG4gICAgdmFyIFNIT1VMRF9ERUNSWVBUX0NPREUgPSBtZDVfdXRpbChuZXcgRGF0ZSgpKycnKTtcclxuICAgIGxldCBlbmNyeXB0SW5mbyA9IChpbmZvKT0+e1xyXG4gICAgICAgIGxldCBhcnIgPSBpbmZvLnNwbGl0KCcnKVxyXG4gICAgICAgIGFyciA9IGFyci5yZXZlcnNlKCk7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGFyci5qb2luKCcnKVxyXG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICd6Jy8v5LiN5piv5YG25pWw77yM5YeR5Liq5YG25pWwXHJcbiAgICAgICAgcmVzdWx0ID0gZW5jb2RlU3RyKHJlc3VsdCkvL+WKoOWvhlxyXG4gICAgICAgIHJlc3VsdCA9IFNIT1VMRF9ERUNSWVBUX0NPREUgKyByZXN1bHQ7Ly9IRUFEXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZGVjcnlwdEluZm8gPSAoaW5mbyk9PntcclxuICAgICAgICBpZihpbmZvLmluZGV4T2YoU0hPVUxEX0RFQ1JZUFRfQ09ERSkhPT0wKSByZXR1cm4gaW5mbzsvL+WmguaenOWPquaYr+i9rOWPkeWwseS4jeW/heWGjeasoeino+WvhlxyXG4gICAgICAgIGluZm8gPSBpbmZvLnN1YnN0cmluZyhTSE9VTERfREVDUllQVF9DT0RFLmxlbmd0aCkvL0hFQURcclxuICAgICAgICBpbmZvID0gZGVjb2RlU3RyKGluZm8pOyAvL+ino+WvhlxyXG4gICAgICAgIGluZm8gPSBpbmZvLnN1YnN0cmluZygwLCBpbmZvLmxlbmd0aC0xKS8v5Y675o6J5YeR5YG25pWw55qE5a2X56ymXHJcbiAgICAgICAgbGV0IGFyciA9IGluZm8uc3BsaXQoJycpXHJcbiAgICAgICAgYXJyID0gYXJyLnJldmVyc2UoKTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gYXJyLmpvaW4oJycpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIC8vIHZhciB1c2VyaW5wdXQgPSBtZDVfdXRpbCgnMTIzNDEyMzQxMjMnKTtcclxuICAgIC8vIC8vdXNlcmlucHV0ID0gJzEyM2FiYydcclxuICAgIC8vIHZhciBlbmNvZGVkID0gZW5jb2RlU3RyKHVzZXJpbnB1dClcclxuICAgIC8vIHZhciBkZWNvZGVkID0gZGVjb2RlU3RyKGVuY29kZWQpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2VuY29kZWQ6JyxlbmNvZGVkKVxyXG4gICAgLy8gY29uc29sZS5sb2coJ2RlbmNvZGVkOicsIGRlY29kZWQpXHJcbiAgICAvLyBjb25zb2xlLmxvZygndXNlcmlucHV0PT1kZW5jb2RlZDonLCB1c2VyaW5wdXQgPT09IGRlY29kZWQpXHJcbiAgICBlbmNyeXB0LmVuY29kZVN0cj1lbmNvZGVTdHI7XHJcbiAgICBlbmNyeXB0LmRlY29kZVN0cj1kZWNvZGVTdHI7XHJcbiAgICBlbmNyeXB0LmVuY3J5cHRNZXNzYWdlRGF0YT1lbmNyeXB0TWVzc2FnZURhdGE7XHJcbiAgICBlbmNyeXB0LmRlY3J5cHRNZXNzYWdlRGF0YT1kZWNyeXB0TWVzc2FnZURhdGE7XHJcbn0pKCk7XHJcbmV4cG9ydCBkZWZhdWx0IGVuY3J5cHQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/encrypt.js\n")},"./src/listener.js":
/*!*************************!*\
  !*** ./src/listener.js ***!
  \*************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _encrypt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encrypt */ \"./src/encrypt.js\");\n//listener\r\nlet md5_util = __webpack_require__(/*! blueimp-md5 */ \"./node_modules/blueimp-md5/js/md5.js\")\r\n\r\nlet init = (messenger)=>{\r\n    var _listeningEvents = {}\r\n    var handleRequest = function (data) {\r\n        //console.log('on msg', window.location.href, data)\r\n        var data = data.data;\r\n        if(data && data.messengerjs /**&& data.messengerjs.isReq **/){\r\n            process(data.messengerjs)\r\n        }\r\n    }\r\n    var doResponse = (responseToken, result)=>{\r\n        //console.log('i-can-process-this-request:', eventName, args, responseToken, result)\r\n        var windows = messenger.getTargetWindows();\r\n        for(var i = 0; i < windows.length; i++){\r\n            var iframe = windows[i]\r\n            //console.log('send response:', eventName, responseToken, iframe)\r\n            var obj = {\r\n                messengerjs:{                          \r\n                    result\r\n                }\r\n            };\r\n            obj.messengerjs = _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].encryptMessageData(obj.messengerjs, {\r\n                isResp: true,\r\n                from: iframe.from,\r\n                responsePageId: messenger.getPageId(),\r\n                responseToken: _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].encodeStr(responseToken),\r\n            });\r\n            obj = JSON.parse(JSON.stringify(obj));\r\n            messenger.doPostMessage(iframe.win, obj, '*');\r\n        }\r\n    }\r\n    var process = function(data){\r\n        //invoke\r\n        var args = data.args;\r\n        var status = _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].decryptMessageData(data);   \r\n        var eventName = status.eventName;     \r\n        var responseToken = status.responseToken;\r\n\r\n        //console.warn('doResponse', responseToken, responseToken.length)\r\n        \r\n        var fn = _listeningEvents[eventName]\r\n        //console.log('process', !!fn, window.location.href)\r\n        if(fn && data){\r\n            if(status.isReq){\r\n                var result = fn.apply(window, args)\r\n                if(result && typeof result.then === 'function'){\r\n                    result.then((data)=>{\r\n                        doResponse(responseToken, data)\r\n                    })\r\n                }else{\r\n                    doResponse(responseToken, result)\r\n                }\r\n            }            \r\n        }\r\n        //转发\r\n        if(status.from === 'parent'){//继续向child传播\r\n            var iframes = document.getElementsByTagName('iframe');\r\n            for(var i = 0; i < iframes.length; i++){\r\n                status.from = 'parent';\r\n                //console.log('godeep', window.location.href, i, data)\r\n                var obj = {messengerjs:data}\r\n                obj = JSON.parse(JSON.stringify(obj));\r\n                messenger.doPostMessage(iframes[i].contentWindow, obj, '*');\r\n            }\r\n        }\r\n        if(status.from === 'child'){//继续向parent传播\r\n            //console.log('from child', window.location.href)\r\n            if(window !== window.parent){\r\n                status.from = 'child';\r\n                var obj = {messengerjs:data}\r\n                obj = JSON.parse(JSON.stringify(obj));\r\n                messenger.doPostMessage(window.parent, obj, '*');\r\n            }\r\n        }\r\n    }\r\n    messenger.listen = function(eventName, callback){\r\n        eventName = md5_util(eventName)\r\n        _listeningEvents[eventName] = callback;\r\n    };    \r\n    messenger.stopListen = function(eventName){\r\n        eventName = md5_util(eventName)\r\n        delete _listeningEvents[eventName];\r\n    };\r\n    if (window.addEventListener) {\r\n        window.addEventListener(\"message\", handleRequest);\r\n    } else if (window.attachEvent) {\r\n        window.attachEvent(\"onmessage\", handleRequest);\r\n    }\r\n    //console.log('listening...')\r\n}\r\nlet listener={\r\n    init\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (listener);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGlzdGVuZXIuanM/MTk3NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQSxlQUFlLG1CQUFPLENBQUMseURBQWE7QUFDSjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLDZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGdEQUFPO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixnREFBTztBQUN0QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0RBQU8sMEI7QUFDNUIseUM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQSwwQkFBMEIsb0JBQW9CO0FBQzlDO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2UsdUVBQVEsRUFBQyIsImZpbGUiOiIuL3NyYy9saXN0ZW5lci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vbGlzdGVuZXJcclxubGV0IG1kNV91dGlsID0gcmVxdWlyZSgnYmx1ZWltcC1tZDUnKVxyXG5pbXBvcnQgZW5jcnlwdCBmcm9tICcuL2VuY3J5cHQnO1xyXG5sZXQgaW5pdCA9IChtZXNzZW5nZXIpPT57XHJcbiAgICB2YXIgX2xpc3RlbmluZ0V2ZW50cyA9IHt9XHJcbiAgICB2YXIgaGFuZGxlUmVxdWVzdCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnb24gbXNnJywgd2luZG93LmxvY2F0aW9uLmhyZWYsIGRhdGEpXHJcbiAgICAgICAgdmFyIGRhdGEgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgaWYoZGF0YSAmJiBkYXRhLm1lc3NlbmdlcmpzIC8qKiYmIGRhdGEubWVzc2VuZ2VyanMuaXNSZXEgKiovKXtcclxuICAgICAgICAgICAgcHJvY2VzcyhkYXRhLm1lc3NlbmdlcmpzKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBkb1Jlc3BvbnNlID0gKHJlc3BvbnNlVG9rZW4sIHJlc3VsdCk9PntcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdpLWNhbi1wcm9jZXNzLXRoaXMtcmVxdWVzdDonLCBldmVudE5hbWUsIGFyZ3MsIHJlc3BvbnNlVG9rZW4sIHJlc3VsdClcclxuICAgICAgICB2YXIgd2luZG93cyA9IG1lc3Nlbmdlci5nZXRUYXJnZXRXaW5kb3dzKCk7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHdpbmRvd3MubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICB2YXIgaWZyYW1lID0gd2luZG93c1tpXVxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdzZW5kIHJlc3BvbnNlOicsIGV2ZW50TmFtZSwgcmVzcG9uc2VUb2tlbiwgaWZyYW1lKVxyXG4gICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgbWVzc2VuZ2VyanM6eyAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIG9iai5tZXNzZW5nZXJqcyA9IGVuY3J5cHQuZW5jcnlwdE1lc3NhZ2VEYXRhKG9iai5tZXNzZW5nZXJqcywge1xyXG4gICAgICAgICAgICAgICAgaXNSZXNwOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZnJvbTogaWZyYW1lLmZyb20sXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVBhZ2VJZDogbWVzc2VuZ2VyLmdldFBhZ2VJZCgpLFxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUb2tlbjogZW5jcnlwdC5lbmNvZGVTdHIocmVzcG9uc2VUb2tlbiksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvYmogPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xyXG4gICAgICAgICAgICBtZXNzZW5nZXIuZG9Qb3N0TWVzc2FnZShpZnJhbWUud2luLCBvYmosICcqJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIHByb2Nlc3MgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAvL2ludm9rZVxyXG4gICAgICAgIHZhciBhcmdzID0gZGF0YS5hcmdzO1xyXG4gICAgICAgIHZhciBzdGF0dXMgPSBlbmNyeXB0LmRlY3J5cHRNZXNzYWdlRGF0YShkYXRhKTsgICBcclxuICAgICAgICB2YXIgZXZlbnROYW1lID0gc3RhdHVzLmV2ZW50TmFtZTsgICAgIFxyXG4gICAgICAgIHZhciByZXNwb25zZVRva2VuID0gc3RhdHVzLnJlc3BvbnNlVG9rZW47XHJcblxyXG4gICAgICAgIC8vY29uc29sZS53YXJuKCdkb1Jlc3BvbnNlJywgcmVzcG9uc2VUb2tlbiwgcmVzcG9uc2VUb2tlbi5sZW5ndGgpXHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIGZuID0gX2xpc3RlbmluZ0V2ZW50c1tldmVudE5hbWVdXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygncHJvY2VzcycsICEhZm4sIHdpbmRvdy5sb2NhdGlvbi5ocmVmKVxyXG4gICAgICAgIGlmKGZuICYmIGRhdGEpe1xyXG4gICAgICAgICAgICBpZihzdGF0dXMuaXNSZXEpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZuLmFwcGx5KHdpbmRvdywgYXJncylcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbicpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKChkYXRhKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb1Jlc3BvbnNlKHJlc3BvbnNlVG9rZW4sIGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGRvUmVzcG9uc2UocmVzcG9uc2VUb2tlbiwgcmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v6L2s5Y+RXHJcbiAgICAgICAgaWYoc3RhdHVzLmZyb20gPT09ICdwYXJlbnQnKXsvL+e7p+e7reWQkWNoaWxk5Lyg5pKtXHJcbiAgICAgICAgICAgIHZhciBpZnJhbWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lmcmFtZScpO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgaWZyYW1lcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXMuZnJvbSA9ICdwYXJlbnQnO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZ29kZWVwJywgd2luZG93LmxvY2F0aW9uLmhyZWYsIGksIGRhdGEpXHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge21lc3NlbmdlcmpzOmRhdGF9XHJcbiAgICAgICAgICAgICAgICBvYmogPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xyXG4gICAgICAgICAgICAgICAgbWVzc2VuZ2VyLmRvUG9zdE1lc3NhZ2UoaWZyYW1lc1tpXS5jb250ZW50V2luZG93LCBvYmosICcqJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoc3RhdHVzLmZyb20gPT09ICdjaGlsZCcpey8v57un57ut5ZCRcGFyZW505Lyg5pKtXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2Zyb20gY2hpbGQnLCB3aW5kb3cubG9jYXRpb24uaHJlZilcclxuICAgICAgICAgICAgaWYod2luZG93ICE9PSB3aW5kb3cucGFyZW50KXtcclxuICAgICAgICAgICAgICAgIHN0YXR1cy5mcm9tID0gJ2NoaWxkJztcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7bWVzc2VuZ2VyanM6ZGF0YX1cclxuICAgICAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XHJcbiAgICAgICAgICAgICAgICBtZXNzZW5nZXIuZG9Qb3N0TWVzc2FnZSh3aW5kb3cucGFyZW50LCBvYmosICcqJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtZXNzZW5nZXIubGlzdGVuID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjayl7XHJcbiAgICAgICAgZXZlbnROYW1lID0gbWQ1X3V0aWwoZXZlbnROYW1lKVxyXG4gICAgICAgIF9saXN0ZW5pbmdFdmVudHNbZXZlbnROYW1lXSA9IGNhbGxiYWNrO1xyXG4gICAgfTsgICAgXHJcbiAgICBtZXNzZW5nZXIuc3RvcExpc3RlbiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSl7XHJcbiAgICAgICAgZXZlbnROYW1lID0gbWQ1X3V0aWwoZXZlbnROYW1lKVxyXG4gICAgICAgIGRlbGV0ZSBfbGlzdGVuaW5nRXZlbnRzW2V2ZW50TmFtZV07XHJcbiAgICB9O1xyXG4gICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGhhbmRsZVJlcXVlc3QpO1xyXG4gICAgfSBlbHNlIGlmICh3aW5kb3cuYXR0YWNoRXZlbnQpIHtcclxuICAgICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgaGFuZGxlUmVxdWVzdCk7XHJcbiAgICB9XHJcbiAgICAvL2NvbnNvbGUubG9nKCdsaXN0ZW5pbmcuLi4nKVxyXG59XHJcbmxldCBsaXN0ZW5lcj17XHJcbiAgICBpbml0XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgbGlzdGVuZXI7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/listener.js\n")},"./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _encrypt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encrypt */ "./src/encrypt.js");\n/* harmony import */ var _listener__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./listener */ "./src/listener.js");\n/* harmony import */ var _requester__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./requester */ "./src/requester.js");\n\r\n\r\n\r\n\r\nlet messenger = {\r\n    doPostMessage: function(winObj, data, target, other){\r\n        if(!winObj.postMessage){\r\n            return;\r\n        } \r\n        var messengerjs = data.messengerjs;\r\n        delete messengerjs.isReq;\r\n        delete messengerjs.isResp;\r\n        delete messengerjs.from;\r\n\r\n        messengerjs.isReq = undefined;\r\n        messengerjs.isResp = undefined;\r\n        messengerjs.from = undefined;\r\n\r\n        //messengerjs.aaaaa = 1111111;\r\n        messengerjs = JSON.parse(JSON.stringify(messengerjs))\r\n\r\n        var messengerjs2 = {}\r\n        for(var key in messengerjs){\r\n            if(key !== \'isReq\' && key !== \'isResp\' && key !== \'from\'){\r\n                messengerjs2[key] = messengerjs[key];\r\n            }else{\r\n                \r\n            }\r\n        }\r\n        var data2 = {\r\n            messengerjs: messengerjs2\r\n        }\r\n        winObj.postMessage(data2, target, other);\r\n    }\r\n};\r\n_listener__WEBPACK_IMPORTED_MODULE_1__["default"].init(messenger);\r\n_requester__WEBPACK_IMPORTED_MODULE_2__["default"].init(messenger);\r\nwindow.messenger = messenger;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz81NmQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWdDO0FBQ0U7QUFDRTs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBUTtBQUNSLGtEQUFTO0FBQ1QiLCJmaWxlIjoiLi9zcmMvbWFpbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlbmNyeXB0IGZyb20gJy4vZW5jcnlwdCc7XHJcbmltcG9ydCBsaXN0ZW5lciBmcm9tICcuL2xpc3RlbmVyJztcclxuaW1wb3J0IHJlcXVlc3RlciBmcm9tICcuL3JlcXVlc3Rlcic7XHJcblxyXG5sZXQgbWVzc2VuZ2VyID0ge1xyXG4gICAgZG9Qb3N0TWVzc2FnZTogZnVuY3Rpb24od2luT2JqLCBkYXRhLCB0YXJnZXQsIG90aGVyKXtcclxuICAgICAgICBpZighd2luT2JqLnBvc3RNZXNzYWdlKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgdmFyIG1lc3NlbmdlcmpzID0gZGF0YS5tZXNzZW5nZXJqcztcclxuICAgICAgICBkZWxldGUgbWVzc2VuZ2VyanMuaXNSZXE7XHJcbiAgICAgICAgZGVsZXRlIG1lc3NlbmdlcmpzLmlzUmVzcDtcclxuICAgICAgICBkZWxldGUgbWVzc2VuZ2VyanMuZnJvbTtcclxuXHJcbiAgICAgICAgbWVzc2VuZ2VyanMuaXNSZXEgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgbWVzc2VuZ2VyanMuaXNSZXNwID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIG1lc3NlbmdlcmpzLmZyb20gPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIC8vbWVzc2VuZ2VyanMuYWFhYWEgPSAxMTExMTExO1xyXG4gICAgICAgIG1lc3NlbmdlcmpzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZXNzZW5nZXJqcykpXHJcblxyXG4gICAgICAgIHZhciBtZXNzZW5nZXJqczIgPSB7fVxyXG4gICAgICAgIGZvcih2YXIga2V5IGluIG1lc3NlbmdlcmpzKXtcclxuICAgICAgICAgICAgaWYoa2V5ICE9PSAnaXNSZXEnICYmIGtleSAhPT0gJ2lzUmVzcCcgJiYga2V5ICE9PSAnZnJvbScpe1xyXG4gICAgICAgICAgICAgICAgbWVzc2VuZ2VyanMyW2tleV0gPSBtZXNzZW5nZXJqc1trZXldO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkYXRhMiA9IHtcclxuICAgICAgICAgICAgbWVzc2VuZ2VyanM6IG1lc3NlbmdlcmpzMlxyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5PYmoucG9zdE1lc3NhZ2UoZGF0YTIsIHRhcmdldCwgb3RoZXIpO1xyXG4gICAgfVxyXG59O1xyXG5saXN0ZW5lci5pbml0KG1lc3Nlbmdlcik7XHJcbnJlcXVlc3Rlci5pbml0KG1lc3Nlbmdlcik7XHJcbndpbmRvdy5tZXNzZW5nZXIgPSBtZXNzZW5nZXI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/main.js\n')},"./src/requester.js":
/*!**************************!*\
  !*** ./src/requester.js ***!
  \**************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _encrypt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encrypt */ \"./src/encrypt.js\");\n//request\r\nlet md5_util = __webpack_require__(/*! blueimp-md5 */ \"./node_modules/blueimp-md5/js/md5.js\")\r\n\r\nlet init = (messenger)=>{\r\n    var generateToken = ()=>{\r\n        var time = (Math.random()*1.7+'') +'-'+ 2.3 * (new Date())\r\n        return md5_util(time.replace(/\\./ig,''));\r\n    }\r\n    var _currentTarget = window.parent;\r\n    var _currentTargetHost = '*';\r\n    var _waitingPromiseMap = {};\r\n    var thisPageId = ''+generateToken();\r\n\r\n    messenger.getPageId= ()=>{\r\n            return thisPageId;\r\n        }\r\n    messenger.getTargetWindows= ()=>{\r\n            var iframelist = [];//[window.parent];\r\n            iframelist.push({\r\n                                is: 'self',\r\n                                from: 'self',//在对方看来，是self，parent，还是child\r\n                                win:window\r\n                            });\r\n            if(window !== window.parent) {\r\n                iframelist.push({\r\n                                    is: 'parent',\r\n                                    from: 'child',\r\n                                    win: window.parent\r\n                                });\r\n\r\n            }\r\n            var iframes = document.getElementsByTagName('iframe');\r\n            for(var i = 0; i < iframes.length; i++){\r\n                iframelist.push({\r\n                    is: 'child',\r\n                    from:'parent',\r\n                    win: iframes[i].contentWindow\r\n                })\r\n            }\r\n            return iframelist;\r\n        }\r\n        messenger.setTarget= function(target){\r\n            _currentTarget = target;\r\n            if(_currentTarget.contentWindow) _currentTarget = _currentTarget.contentWindow;\r\n            return messenger;\r\n        }\r\n        messenger.emit= function (){\r\n            var me = this;\r\n            var eventName = arguments[0];\r\n            eventName = md5_util(eventName)\r\n            var args = [];\r\n            for(var i = 1; i < arguments.length; i++){\r\n                args.push(arguments[i]);\r\n            }\r\n            var responseToken = ''+generateToken();\r\n            //console.warn('generateToken',responseToken.length)\r\n            var windows = me.getTargetWindows();\r\n            for(var i = 0; i < windows.length; i++){\r\n                var iframe = windows[i];\r\n                //console.log('sent-req:', eventName, responseToken, iframe)\r\n                var obj = {\r\n                    messengerjs:{\r\n                        args,//本次请求的参数\r\n                    }\r\n                };\r\n                obj.messengerjs = _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].encryptMessageData(obj.messengerjs, {\r\n                    eventName,//请求的名字\r\n                    isReq: true,//表明是request\r\n                    from: iframe.from,                    \r\n                    requestPageId: thisPageId, //发起请求的页面id\r\n                    responseToken,//本次请求的token，一次性\r\n                });\r\n                obj = JSON.parse(JSON.stringify(obj));\r\n                messenger.doPostMessage(iframe.win, obj, _currentTargetHost);\r\n            }\r\n            _waitingPromiseMap[responseToken] = {\r\n                receiveCount: 0\r\n            };\r\n            return {\r\n                onResponse: (cb)=>{\r\n                    _waitingPromiseMap[responseToken].cb = cb;\r\n                }\r\n            };\r\n        }\r\n    \r\n    var handleResponse = (data)=>{\r\n        //console.log('on msg', window.location.href, data)\r\n        var data = data.data;\r\n        if(!data || !data.messengerjs)return;\r\n        var status = _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].decryptMessageData(data.messengerjs)\r\n        var responseToken = _encrypt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].decodeStr(status.responseToken)\r\n        //if(data.messengerjs && data.messengerjs.isResp && _waitingPromiseMap[responseToken]){\r\n        if(data.messengerjs && data.messengerjs.info){\r\n            if(status.isResp && _waitingPromiseMap[responseToken]){\r\n                process(responseToken, data.messengerjs)\r\n            }\r\n        }\r\n    };\r\n    var process = (responseToken, data)=>{\r\n        var result = data.result;\r\n        //console.warn('got response', window.location.href, result)\r\n        let stopReceive = ()=>{\r\n            delete _waitingPromiseMap[responseToken];\r\n        }\r\n        let count = ++_waitingPromiseMap[responseToken].receiveCount;\r\n        if(_waitingPromiseMap[responseToken].cb){\r\n            _waitingPromiseMap[responseToken].cb(result, {count: count, stopReceive: stopReceive});\r\n        }\r\n    };\r\n    if (window.addEventListener) {\r\n        window.addEventListener(\"message\", handleResponse);\r\n    } else if (window.attachEvent) {\r\n        window.attachEvent(\"onmessage\", handleResponse);\r\n    }\r\n    \r\n}\r\nlet requester={\r\n    init\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (requester);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVxdWVzdGVyLmpzPzcxMDgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0EsZUFBZSxtQkFBTyxDQUFDLHlEQUFhO0FBQ0o7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQSwwQkFBMEIsb0JBQW9CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG9CQUFvQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxnREFBTztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnREFBTztBQUM1Qiw0QkFBNEIsZ0RBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELHVDQUF1QztBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ2Usd0VBQVMsRUFBQyIsImZpbGUiOiIuL3NyYy9yZXF1ZXN0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL3JlcXVlc3RcclxubGV0IG1kNV91dGlsID0gcmVxdWlyZSgnYmx1ZWltcC1tZDUnKVxyXG5pbXBvcnQgZW5jcnlwdCBmcm9tICcuL2VuY3J5cHQnO1xyXG5sZXQgaW5pdCA9IChtZXNzZW5nZXIpPT57XHJcbiAgICB2YXIgZ2VuZXJhdGVUb2tlbiA9ICgpPT57XHJcbiAgICAgICAgdmFyIHRpbWUgPSAoTWF0aC5yYW5kb20oKSoxLjcrJycpICsnLScrIDIuMyAqIChuZXcgRGF0ZSgpKVxyXG4gICAgICAgIHJldHVybiBtZDVfdXRpbCh0aW1lLnJlcGxhY2UoL1xcLi9pZywnJykpO1xyXG4gICAgfVxyXG4gICAgdmFyIF9jdXJyZW50VGFyZ2V0ID0gd2luZG93LnBhcmVudDtcclxuICAgIHZhciBfY3VycmVudFRhcmdldEhvc3QgPSAnKic7XHJcbiAgICB2YXIgX3dhaXRpbmdQcm9taXNlTWFwID0ge307XHJcbiAgICB2YXIgdGhpc1BhZ2VJZCA9ICcnK2dlbmVyYXRlVG9rZW4oKTtcclxuXHJcbiAgICBtZXNzZW5nZXIuZ2V0UGFnZUlkPSAoKT0+e1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1BhZ2VJZDtcclxuICAgICAgICB9XHJcbiAgICBtZXNzZW5nZXIuZ2V0VGFyZ2V0V2luZG93cz0gKCk9PntcclxuICAgICAgICAgICAgdmFyIGlmcmFtZWxpc3QgPSBbXTsvL1t3aW5kb3cucGFyZW50XTtcclxuICAgICAgICAgICAgaWZyYW1lbGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpczogJ3NlbGYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206ICdzZWxmJywvL+WcqOWvueaWueeci+adpe+8jOaYr3NlbGbvvIxwYXJlbnTvvIzov5jmmK9jaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbjp3aW5kb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZih3aW5kb3cgIT09IHdpbmRvdy5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmcmFtZWxpc3QucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzOiAncGFyZW50JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogJ2NoaWxkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luOiB3aW5kb3cucGFyZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBpZnJhbWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lmcmFtZScpO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgaWZyYW1lcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZnJhbWVsaXN0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzOiAnY2hpbGQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb206J3BhcmVudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgd2luOiBpZnJhbWVzW2ldLmNvbnRlbnRXaW5kb3dcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGlmcmFtZWxpc3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1lc3Nlbmdlci5zZXRUYXJnZXQ9IGZ1bmN0aW9uKHRhcmdldCl7XHJcbiAgICAgICAgICAgIF9jdXJyZW50VGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICBpZihfY3VycmVudFRhcmdldC5jb250ZW50V2luZG93KSBfY3VycmVudFRhcmdldCA9IF9jdXJyZW50VGFyZ2V0LmNvbnRlbnRXaW5kb3c7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNzZW5nZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1lc3Nlbmdlci5lbWl0PSBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgdmFyIG1lID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGFyZ3VtZW50c1swXTtcclxuICAgICAgICAgICAgZXZlbnROYW1lID0gbWQ1X3V0aWwoZXZlbnROYW1lKVxyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZXNwb25zZVRva2VuID0gJycrZ2VuZXJhdGVUb2tlbigpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUud2FybignZ2VuZXJhdGVUb2tlbicscmVzcG9uc2VUb2tlbi5sZW5ndGgpXHJcbiAgICAgICAgICAgIHZhciB3aW5kb3dzID0gbWUuZ2V0VGFyZ2V0V2luZG93cygpO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgd2luZG93cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWZyYW1lID0gd2luZG93c1tpXTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3NlbnQtcmVxOicsIGV2ZW50TmFtZSwgcmVzcG9uc2VUb2tlbiwgaWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzZW5nZXJqczp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsLy/mnKzmrKHor7fmsYLnmoTlj4LmlbBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgb2JqLm1lc3NlbmdlcmpzID0gZW5jcnlwdC5lbmNyeXB0TWVzc2FnZURhdGEob2JqLm1lc3NlbmdlcmpzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lLC8v6K+35rGC55qE5ZCN5a2XXHJcbiAgICAgICAgICAgICAgICAgICAgaXNSZXE6IHRydWUsLy/ooajmmI7mmK9yZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogaWZyYW1lLmZyb20sICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UGFnZUlkOiB0aGlzUGFnZUlkLCAvL+WPkei1t+ivt+axgueahOmhtemdomlkXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUb2tlbiwvL+acrOasoeivt+axgueahHRva2Vu77yM5LiA5qyh5oCnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XHJcbiAgICAgICAgICAgICAgICBtZXNzZW5nZXIuZG9Qb3N0TWVzc2FnZShpZnJhbWUud2luLCBvYmosIF9jdXJyZW50VGFyZ2V0SG9zdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3dhaXRpbmdQcm9taXNlTWFwW3Jlc3BvbnNlVG9rZW5dID0ge1xyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUNvdW50OiAwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBvblJlc3BvbnNlOiAoY2IpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgX3dhaXRpbmdQcm9taXNlTWFwW3Jlc3BvbnNlVG9rZW5dLmNiID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICB2YXIgaGFuZGxlUmVzcG9uc2UgPSAoZGF0YSk9PntcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdvbiBtc2cnLCB3aW5kb3cubG9jYXRpb24uaHJlZiwgZGF0YSlcclxuICAgICAgICB2YXIgZGF0YSA9IGRhdGEuZGF0YTtcclxuICAgICAgICBpZighZGF0YSB8fCAhZGF0YS5tZXNzZW5nZXJqcylyZXR1cm47XHJcbiAgICAgICAgdmFyIHN0YXR1cyA9IGVuY3J5cHQuZGVjcnlwdE1lc3NhZ2VEYXRhKGRhdGEubWVzc2VuZ2VyanMpXHJcbiAgICAgICAgdmFyIHJlc3BvbnNlVG9rZW4gPSBlbmNyeXB0LmRlY29kZVN0cihzdGF0dXMucmVzcG9uc2VUb2tlbilcclxuICAgICAgICAvL2lmKGRhdGEubWVzc2VuZ2VyanMgJiYgZGF0YS5tZXNzZW5nZXJqcy5pc1Jlc3AgJiYgX3dhaXRpbmdQcm9taXNlTWFwW3Jlc3BvbnNlVG9rZW5dKXtcclxuICAgICAgICBpZihkYXRhLm1lc3NlbmdlcmpzICYmIGRhdGEubWVzc2VuZ2VyanMuaW5mbyl7XHJcbiAgICAgICAgICAgIGlmKHN0YXR1cy5pc1Jlc3AgJiYgX3dhaXRpbmdQcm9taXNlTWFwW3Jlc3BvbnNlVG9rZW5dKXtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3MocmVzcG9uc2VUb2tlbiwgZGF0YS5tZXNzZW5nZXJqcylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgcHJvY2VzcyA9IChyZXNwb25zZVRva2VuLCBkYXRhKT0+e1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBkYXRhLnJlc3VsdDtcclxuICAgICAgICAvL2NvbnNvbGUud2FybignZ290IHJlc3BvbnNlJywgd2luZG93LmxvY2F0aW9uLmhyZWYsIHJlc3VsdClcclxuICAgICAgICBsZXQgc3RvcFJlY2VpdmUgPSAoKT0+e1xyXG4gICAgICAgICAgICBkZWxldGUgX3dhaXRpbmdQcm9taXNlTWFwW3Jlc3BvbnNlVG9rZW5dO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY291bnQgPSArK193YWl0aW5nUHJvbWlzZU1hcFtyZXNwb25zZVRva2VuXS5yZWNlaXZlQ291bnQ7XHJcbiAgICAgICAgaWYoX3dhaXRpbmdQcm9taXNlTWFwW3Jlc3BvbnNlVG9rZW5dLmNiKXtcclxuICAgICAgICAgICAgX3dhaXRpbmdQcm9taXNlTWFwW3Jlc3BvbnNlVG9rZW5dLmNiKHJlc3VsdCwge2NvdW50OiBjb3VudCwgc3RvcFJlY2VpdmU6IHN0b3BSZWNlaXZlfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBoYW5kbGVSZXNwb25zZSk7XHJcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkge1xyXG4gICAgICAgIHdpbmRvdy5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBoYW5kbGVSZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5sZXQgcmVxdWVzdGVyPXtcclxuICAgIGluaXRcclxufVxyXG5leHBvcnQgZGVmYXVsdCByZXF1ZXN0ZXI7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/requester.js\n")},0:
/*!***************************!*\
  !*** multi ./src/main.js ***!
  \***************************/
/*! no static exports found */function(g,I,n){g.exports=n(/*! ./src/main.js */"./src/main.js")}});